(()=>{var e={484:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,i="millisecond",a="second",r="minute",s="hour",n="day",o="week",l="month",c="quarter",d="year",h="date",p="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],i=e%100;return"["+e+(t[(i-20)%10]||t[i]||t[0])+"]"}},f=function(e,t,i){var a=String(e);return!a||a.length>=t?e:""+Array(t+1-a.length).join(i)+e},A={s:f,z:function(e){var t=-e.utcOffset(),i=Math.abs(t),a=Math.floor(i/60),r=i%60;return(t<=0?"+":"-")+f(a,2,"0")+":"+f(r,2,"0")},m:function e(t,i){if(t.date()<i.date())return-e(i,t);var a=12*(i.year()-t.year())+(i.month()-t.month()),r=t.clone().add(a,l),s=i-r<0,n=t.clone().add(a+(s?-1:1),l);return+(-(a+(i-r)/(s?r-n:n-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:o,d:n,D:h,h:s,m:r,s:a,ms:i,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},m="en",S={};S[m]=L;var v=function(e){return e instanceof I},T=function e(t,i,a){var r;if(!t)return m;if("string"==typeof t){var s=t.toLowerCase();S[s]&&(r=s),i&&(S[s]=i,r=s);var n=t.split("-");if(!r&&n.length>1)return e(n[0])}else{var o=t.name;S[o]=t,r=o}return!a&&r&&(m=r),r||!a&&m},D=function(e,t){if(v(e))return e.clone();var i="object"==typeof t?t:{};return i.date=e,i.args=arguments,new I(i)},b=A;b.l=T,b.i=v,b.w=function(e,t){return D(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var I=function(){function L(e){this.$L=T(e.locale,null,!0),this.parse(e)}var f=L.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,i=e.utc;if(null===t)return new Date(NaN);if(b.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var a=t.match(u);if(a){var r=a[2]-1||0,s=(a[7]||"0").substring(0,3);return i?new Date(Date.UTC(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,s)):new Date(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return b},f.isValid=function(){return!(this.$d.toString()===p)},f.isSame=function(e,t){var i=D(e);return this.startOf(t)<=i&&i<=this.endOf(t)},f.isAfter=function(e,t){return D(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<D(e)},f.$g=function(e,t,i){return b.u(e)?this[t]:this.set(i,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,t){var i=this,c=!!b.u(t)||t,p=b.p(e),u=function(e,t){var a=b.w(i.$u?Date.UTC(i.$y,t,e):new Date(i.$y,t,e),i);return c?a:a.endOf(n)},E=function(e,t){return b.w(i.toDate()[e].apply(i.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),i)},L=this.$W,f=this.$M,A=this.$D,m="set"+(this.$u?"UTC":"");switch(p){case d:return c?u(1,0):u(31,11);case l:return c?u(1,f):u(0,f+1);case o:var S=this.$locale().weekStart||0,v=(L<S?L+7:L)-S;return u(c?A-v:A+(6-v),f);case n:case h:return E(m+"Hours",0);case s:return E(m+"Minutes",1);case r:return E(m+"Seconds",2);case a:return E(m+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(e,t){var o,c=b.p(e),p="set"+(this.$u?"UTC":""),u=(o={},o[n]=p+"Date",o[h]=p+"Date",o[l]=p+"Month",o[d]=p+"FullYear",o[s]=p+"Hours",o[r]=p+"Minutes",o[a]=p+"Seconds",o[i]=p+"Milliseconds",o)[c],E=c===n?this.$D+(t-this.$W):t;if(c===l||c===d){var L=this.clone().set(h,1);L.$d[u](E),L.init(),this.$d=L.set(h,Math.min(this.$D,L.daysInMonth())).$d}else u&&this.$d[u](E);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[b.p(e)]()},f.add=function(i,c){var h,p=this;i=Number(i);var u=b.p(c),E=function(e){var t=D(p);return b.w(t.date(t.date()+Math.round(e*i)),p)};if(u===l)return this.set(l,this.$M+i);if(u===d)return this.set(d,this.$y+i);if(u===n)return E(1);if(u===o)return E(7);var L=(h={},h[r]=e,h[s]=t,h[a]=1e3,h)[u]||1,f=this.$d.getTime()+i*L;return b.w(f,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this,i=this.$locale();if(!this.isValid())return i.invalidDate||p;var a=e||"YYYY-MM-DDTHH:mm:ssZ",r=b.z(this),s=this.$H,n=this.$m,o=this.$M,l=i.weekdays,c=i.months,d=function(e,i,r,s){return e&&(e[i]||e(t,a))||r[i].slice(0,s)},h=function(e){return b.s(s%12||12,e,"0")},u=i.meridiem||function(e,t,i){var a=e<12?"AM":"PM";return i?a.toLowerCase():a},L={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:b.s(o+1,2,"0"),MMM:d(i.monthsShort,o,c,3),MMMM:d(c,o),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:d(i.weekdaysMin,this.$W,l,2),ddd:d(i.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(s),HH:b.s(s,2,"0"),h:h(1),hh:h(2),a:u(s,n,!0),A:u(s,n,!1),m:String(n),mm:b.s(n,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:r};return a.replace(E,(function(e,t){return t||L[e]||r.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(i,h,p){var u,E=b.p(h),L=D(i),f=(L.utcOffset()-this.utcOffset())*e,A=this-L,m=b.m(this,L);return m=(u={},u[d]=m/12,u[l]=m,u[c]=m/3,u[o]=(A-f)/6048e5,u[n]=(A-f)/864e5,u[s]=A/t,u[r]=A/e,u[a]=A/1e3,u)[E]||A,p?m:b.a(m)},f.daysInMonth=function(){return this.endOf(l).$D},f.$locale=function(){return S[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var i=this.clone(),a=T(e,t,!0);return a&&(i.$L=a),i},f.clone=function(){return b.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},L}(),g=I.prototype;return D.prototype=g,[["$ms",i],["$s",a],["$m",r],["$H",s],["$W",n],["$M",l],["$y",d],["$D",h]].forEach((function(e){g[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),D.extend=function(e,t){return e.$i||(e(t,I,D),e.$i=!0),D},D.locale=T,D.isDayjs=v,D.unix=function(e){return D(1e3*e)},D.en=S[m],D.Ls=S,D.p={},D}()},962:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarcodeGenerator=void 0;const a=i(281),r=i(915),s=i(930);t.BarcodeGenerator=class{generateBarcodefromId(e,t,i){this.generateBarcode(e,document.getElementById(t),i)}generateBarcode(e,t,i){const a=t.getAttribute("x"),n=t.getAttribute("y"),o=t.getAttribute("height"),l=t.getAttribute("width"),c=t.parentNode,d=t.getAttribute("id");let h;t.remove(),"code128"==i?h=(0,s.Code128)({msg:e,dim:[parseFloat(l),parseFloat(o)],pad:[0,0],pal:["#000","#fff"]}):"codabar"==i&&(h=(0,r.Codabar)({msg:e,dim:[parseFloat(l),parseFloat(o)],pad:[0,0],pal:["#000","#fff"],ratio:2.25})),h.setAttribute("id",d),h.setAttribute("title",e),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("x",a),h.setAttribute("y",n),h.setAttribute("width",l),h.setAttribute("height",o),c.appendChild(h)}generateDataMatrix(e,t,i,r,s){if(!(e&&t&&i&&r))return;const n=document.getElementById("blood_unit");if(!n)return;let o="";if(s){const a=10;o="=+"+String(5).padStart(2,"0")+String(a).padStart(3,"0")+e+t+i+r+s}else{const a=3;o="=+"+String(4).padStart(2,"0")+String(a).padStart(3,"0")+e+t+i+r}const l="dmSvg";let c=document.getElementById(l);c&&c.remove();let d=(0,a.DATAMatrix)({msg:o,dim:10,pad:0,pal:["#000","#fff"]});d.setAttribute("id",l),d.setAttribute("title",o),n.appendChild(d)}}},959:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DatesLabel=t.DatesForm=void 0;const r=a(i(484)),s=i(973);t.DatesForm=class{datesLabel;expiryIn;bledDateIn;productSelect;constructor(e){e||alert("Dates Label undefined"),this.datesLabel=e,this.expiryIn=document.querySelector("#expiry_in"),this.bledDateIn=document.querySelector("#bled_date_in"),this.productSelect=document.querySelector("#product_select"),this.expiryIn.addEventListener("change",this.setBledDate.bind(this)),this.bledDateIn.addEventListener("change",this.setExpiryDate.bind(this)),this.bledDateIn.value=(0,r.default)().format("YYYY-MM-DD")}setExpiryDate(){if(""===this.bledDateIn.value)return;const e=s.products.find((e=>e.code===this.productSelect.value));if(!e)return;const t=(0,r.default)(this.bledDateIn.value);this.expiryIn.value=t.add(e.shelfLife,"day").format("YYYY-MM-DD"),this.datesLabel.generateExpiryLabel((0,r.default)(this.expiryIn.value),(0,r.default)(this.bledDateIn.value))}setBledDate(){if(""===this.expiryIn.value)return;const e=s.products.find((e=>e.code===this.productSelect.value));if(!e)return;const t=(0,r.default)(this.expiryIn.value);this.bledDateIn.value=t.add(-e.shelfLife,"day").format("YYYY-MM-DD"),this.datesLabel.generateExpiryLabel((0,r.default)(this.expiryIn.value),(0,r.default)(this.bledDateIn.value))}},t.DatesLabel=class{barcodeGenerator;dataMatrixBarcode;expiryTspan;dateBledTspan;barcode="";IsbtCode="";constructor(e,t){e||alert("Barcode Generator undefined"),this.barcodeGenerator=e,t||alert("DataMatrix Barcode Undefined"),this.dataMatrixBarcode=t,this.expiryTspan=document.querySelector("#expiry_tspan"),this.dateBledTspan=document.querySelector("#date_bled_tspan")}generateExpiryLabel(e,t){const i=String((e=>{const t=(0,r.default)(e),i=(0,r.default)(t.year()+"-01-01");return t.diff(i,"day")+1})(e)).padStart(3,"0");this.barcode="a"+e.year()+i+"4a",this.barcodeGenerator.generateBarcode(this.barcode,document.querySelector("#expiry_barcode_svg"),"codabar"),this.IsbtCode="&>"+e.year().toString().slice(1)+i+"2359",this.dataMatrixBarcode.setExpiryCode=this.IsbtCode,this.expiryTspan.textContent=e.format("DD MMM YYYY"),this.dateBledTspan.textContent=t.format("DD MMM YYYY")}}},336:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataMatrixBarcode=void 0,t.DataMatrixBarcode=class{barcodeGenerator;barcodeParent;phenotypeCode="";dinCode="";expiryCode="";groupCode="";productCode="";constructor(e){e||alert("Barcode Generator undefined"),this.barcodeGenerator=e,this.barcodeParent=document.querySelector("#blood_unit"),this.phenotypeCode="=\\999999999999999999"}set setDinCode(e){this.dinCode=e,this.apply()}set setExpiryCode(e){this.expiryCode=e,this.apply()}set setGroupCode(e){this.groupCode=e,this.apply()}set setProductCode(e){this.productCode=e,this.apply()}set setPhenotypeCode(e){this.phenotypeCode=e,this.apply()}apply(){this.barcodeGenerator.generateDataMatrix(this.dinCode,this.groupCode,this.productCode,this.expiryCode,this.phenotypeCode)}}},191:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DinLabel=t.DinForm=void 0;const r=a(i(484));t.DinForm=class{error;dinLabel;fin;year;seq;cd;submit;constructor(e,t){e||alert("Error handler undefined"),this.error=e,t||alert("DIN label undefined"),this.dinLabel=t,this.fin=document.querySelector("#din_fin_in"),this.year=document.querySelector("#din_year_in"),this.seq=document.querySelector("#din_seq_in"),this.cd=document.querySelector("#din_cd_in"),this.submit=document.querySelector("#din_go"),this.fin.value="G0000",this.year.value=(0,r.default)().format("YY"),this.seq.value="000000",this.fin.addEventListener("change",this.generateDin.bind(this)),this.year.addEventListener("change",this.generateDin.bind(this)),this.seq.addEventListener("change",this.generateDin.bind(this)),this.submit.addEventListener("click",this.generateDin.bind(this)),this.generateDin()}formatMasked(e){return e.value.replace(/\s/g,"").toUpperCase()}validateInputs(e,t,i){this.error.clearError(this.fin),this.error.clearError(this.year),this.error.clearError(this.seq);let a=!1;5!=e.length&&(this.error.setError(this.fin,"FIN string wrong length. Must be 5 characters."),a=!0),/[^A-NP-Z0-9]/g.test(e.slice(0,3))&&(this.error.setError(this.fin,"The first 3 digits of FIN can only contain A-N, P-Z or 0-9."),a=!0),/[^0-9]/g.test(e.slice(3))&&(this.error.setError(this.fin,"The last 2 digits of FIN can only contain numbers."),a=!0),(2!=t.length||/[^0-9]/g.test(t))&&(this.error.setError(this.year,"Year string wrong. Must be a 2 digit number between 00 and 99."),a=!0),(6!=i.length||/[^0-9]/g.test(i))&&(this.error.setError(this.seq,"Sequence number string wrong. Must be a 6 digit number between 000000 and 999999."),a=!0);const r=e+t+i;return 13!=r.length&&(this.error.setError(null,"DIN string wrong length"),a=!0),a?null:r}calculateChecksum(e){let t=e.split("");const i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","*"];let a=0;for(let e=0;e<t.length;e++){const r=i.findIndex((i=>i==t[e]));if(r<0)return this.error.setError(null,"Error: Non-alphanumeric character in checksum calculation. Unable to continue."),null;a+=Math.pow(2,13-e)*r}const r=(38-a%37)%37;return{checkDigit:r,checkChar:i[r]}}generateDin(){const e=this.formatMasked(this.fin),t=this.formatMasked(this.year),i=this.formatMasked(this.seq);let a=this.validateInputs(e,t,i);if(!a)return;const r=this.calculateChecksum(a);r&&(this.fin.value=e,this.year.value=t,this.seq.value=i,this.cd.value=r.checkChar,this.dinLabel.apply(a,r,i))}},t.DinLabel=class{barcodeGenerator;dataMatrixBarcode;dinTspan;dinTspan1;dinTspan2;dinTspan3;dinTspan4;dinTspan5;barcode="";smallBarcode="";constructor(e,t){e||alert("Barcode Generator undefined"),this.barcodeGenerator=e,t||alert("DataMatrix Barcode Undefined"),this.dataMatrixBarcode=t,this.dinTspan=document.querySelector("#din_eye_readable"),this.dinTspan1=document.querySelector("#din_eye_readable_1"),this.dinTspan2=document.querySelector("#din_eye_readable_2"),this.dinTspan3=document.querySelector("#din_eye_readable_3"),this.dinTspan4=document.querySelector("#din_eye_readable_4"),this.dinTspan5=document.querySelector("#din_eye_readable_5")}apply(e,t,i){this.barcode="="+e+(t.checkDigit+60),this.smallBarcode="&a"+i,this.barcodeGenerator.generateBarcode(this.barcode,document.querySelector("#din_barcode_svg"),"code128"),this.barcodeGenerator.generateBarcode(this.smallBarcode,document.querySelector("#din_small_barcode_svg"),"code128"),this.dataMatrixBarcode.setDinCode=this.barcode,this.dinTspan1.textContent=e.slice(0,4),this.dinTspan2.textContent=e.slice(4,7),this.dinTspan3.textContent=e.slice(7,10),this.dinTspan4.textContent=e.slice(10,13),this.dinTspan5.textContent=t.checkChar}}},877:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorHandler=void 0,t.ErrorHandler=class{errorText;constructor(){this.errorText=document.querySelector("#errorText"),this.clearError(null)}setError(e,t){this.errorText.innerHTML+="<li>"+t+"</li>",this.errorText.style.display="block",e&&e.classList.add("errorTextInput")}clearError(e){this.errorText.innerHTML="",this.errorText.style.display="none",e&&e.classList.remove("errorTextInput")}}},792:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groups=t.rhdNeg=t.rhdPos=t.Group=t.RhD=void 0;class i{cssClass;rhdText;smallDText;constructor(e,t,i){this.cssClass=e,this.rhdText=t,this.smallDText=i}}t.RhD=i,t.Group=class{abo;rhd;text;code;constructor(e,t,i,a){this.abo=e,this.rhd=t,this.text=i,this.code=a}},t.rhdPos=new i("pos","Rh D POSITIVE","+"),t.rhdNeg=new i("neg","Rh D NEGATIVE","–"),t.groups=[{abo:"O",rhd:t.rhdPos,text:"O Pos",code:"51"},{abo:"O",rhd:t.rhdNeg,text:"O Neg",code:"95"},{abo:"A",rhd:t.rhdPos,text:"A Pos",code:"62"},{abo:"A",rhd:t.rhdNeg,text:"A Neg",code:"06"},{abo:"B",rhd:t.rhdPos,text:"B Pos",code:"73"},{abo:"B",rhd:t.rhdNeg,text:"B Neg",code:"17"},{abo:"AB",rhd:t.rhdPos,text:"AB Pos",code:"84"},{abo:"AB",rhd:t.rhdNeg,text:"AB Neg",code:"28"}]},177:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsLabel=t.GroupsForm=void 0;const a=i(792);t.GroupsForm=class{groupLabel;groupSelect;rhcSelect;rheSelect;cmvIn;hbsIn;antigensIn;constructor(e){e||alert("Group Label Undefined"),this.groupLabel=e,this.groupSelect=document.querySelector("#group_select"),this.rhcSelect=document.querySelector("#rhc_select"),this.rheSelect=document.querySelector("#rhe_select"),this.cmvIn=document.querySelector("#cmv_in"),this.hbsIn=document.querySelector("#hbs_in"),this.antigensIn=document.querySelector("#antigens_in");for(let e=0;e<a.groups.length;e++)this.groupSelect.add(new Option(a.groups[e].text,e.toString()),void 0);this.groupSelect.addEventListener("change",this.groupSelectChanged.bind(this)),this.rhcSelect.addEventListener("change",this.rhceChanged.bind(this)),this.rheSelect.addEventListener("change",this.rhceChanged.bind(this)),this.cmvIn.addEventListener("change",this.cmvHbsChanged.bind(this)),this.hbsIn.addEventListener("change",this.cmvHbsChanged.bind(this)),this.antigensIn.addEventListener("keyup",this.antigensChanged.bind(this)),this.groupSelect.value="1",this.groupSelectChanged(),this.cmvHbsChanged(),this.rhceChanged(),this.antigensChanged()}groupSelectChanged(){const e=a.groups[parseInt(this.groupSelect.value)];e&&this.groupLabel.generateGroupLabel(e)}cmvHbsChanged(){this.groupLabel.updateCmvHbsLabel(this.cmvIn.checked,this.hbsIn.checked)}rhceChanged(){this.groupLabel.updateRhceLabel(this.rhcSelect.value,this.rheSelect.value)}antigensChanged(){const e=this.antigensIn.value.replace(/[^A-Za-z0-9,]/g,"");this.antigensIn.value=e,this.groupLabel.updateAntigens(e)}},t.GroupsLabel=class{barcodeGenerator;dataMatrixBarcode;D;C;c;E;e;aboTspan;rhdTspan;hbsCmvTspan;antigensTspan;groupLabel;barcode="";constructor(e,t){e||alert("Barcode Generator undefined"),this.barcodeGenerator=e,t||alert("DataMatrix Barcode Undefined"),this.dataMatrixBarcode=t,this.D=document.querySelector("#D_type_tspan"),this.C=document.querySelector("#C_type_tspan"),this.c=document.querySelector("#c_type_tspan"),this.E=document.querySelector("#E_type_tspan"),this.e=document.querySelector("#e_type_tspan"),this.aboTspan=document.querySelector("#abo_tspan"),this.rhdTspan=document.querySelector("#rhd_tspan"),this.hbsCmvTspan=document.querySelector("#hbs_cmv_tspan"),this.antigensTspan=document.querySelector("#antigens_tspan"),this.groupLabel=document.querySelector("#group_label")}generateGroupLabel(e){e&&(this.barcode="=%"+e.code+"00",this.barcodeGenerator.generateBarcode(this.barcode,document.querySelector("#group_barcode_svg"),"code128"),this.dataMatrixBarcode.setGroupCode=this.barcode,this.aboTspan.textContent=e.abo,this.rhdTspan.textContent=e.rhd.rhdText,this.D.textContent=e.rhd.smallDText,this.groupLabel.classList.remove("pos"),this.groupLabel.classList.remove("neg"),this.groupLabel.classList.add(e.rhd.cssClass))}updateCmvHbsLabel(e,t){let i="";t&&e?i="HbS Neg, CMV Neg":t?i="HbS Neg":e&&(i="CMV Neg"),this.hbsCmvTspan.textContent=i,document.querySelector("#cmv_barcode_svg").style.visibility=e?"visible":"hidden"}updateRhceLabel(e,t){this.C.textContent="0"===e?"–":"+",this.c.textContent="2"===e?"–":"+",this.E.textContent="0"===t?"–":"+",this.e.textContent="2"===t?"–":"+"}updateAntigens(e){this.antigensTspan.textContent="NEG: "+e}}},678:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Code128Barcode=void 0;class i{#e="";get msg(){return this.#e}set msg(e){this.#e=e,this.#t(this.#e),null!=this.#i&&(this.#a(),this.#r(this.#i))}#s=[0,0];get dim(){return this.#s}#n=0;#o=0;#l=[0,0];get pad(){return this.#l}set pad(e){null!=e&&("number"==typeof e?this.#l=[e,e]:null==e[1]?this.#l=[e[0],e[0]]:"number"==typeof e[0]&&"number"==typeof e[1]&&(this.#l=e),null!=this.#i&&(this.#a(),this.#r(this.#i)))}#c=0;#d=0;#h=1;#p=1;#u=["#000",null];get pal(){return this.#u}set pal(e){null!=e&&("string"==typeof e&&this.#E(e)?this.#u[0]=e:("string"==typeof e[0]&&this.#E(e[0])&&(this.#u[0]=e[0]),"string"==typeof e[1]&&this.#E(e[1])&&(this.#u[1]=e[1])),null!=this.#i&&(this.#a(),this.#r(this.#i)))}#L="h";#f=[];get valueArray(){return this.#f}#A=[];get encoded(){return this.#A}#i;get svg(){return this.#i}#m="http://www.w3.org/2000/svg";constructor(e,t){if("string"==typeof e?this.#e=e:(null!=e.msg&&(this.#e=e.msg),null!=e.dim&&(this.#s=e.dim),this.pad=e.pad,this.pal=e.pal),this.#t(this.#e),null==t)this.#i=this.#S("svg",this.#m,{viewBox:[0,0,this.#n,this.#o].join(" "),width:this.#n,height:this.#o,"shape-rendering":"crispEdges",xmlns:this.#m,version:"1.1"});else{this.#i=t;const e=window.getComputedStyle(t);this.#s=[parseFloat(e.getPropertyValue("width")),parseFloat(e.getPropertyValue("height"))]}this.#a(),this.#r(this.#i)}#E(e){const t=(new Option).style;return t.color=e,""!==t.color}#a(){this.#h=1,this.#p=1,this.#n=Math.abs(this.#s[0]),this.#o=Math.abs(this.#s[1]),this.#c=Math.abs(this.#l[0]),this.#d=Math.abs(this.#l[1]),0==this.#n&&0==this.#o&&(this.#n=2*(this.#A.length+this.#c),this.#o=this.#n/3),this.#L=this.#o>this.#n?"v":"h",0==this.#n&&(this.#n=2*(this.#A.length+this.#c),this.#L="h"),0==this.#o&&(this.#o=2*(this.#A.length+this.#d),this.#L="v"),this.#c=Math.min(this.#n,this.#c),this.#d=Math.min(this.#o,this.#d),"v"==this.#L?this.#p=this.#A.length:this.#h=this.#A.length,this.#h=parseFloat(((this.#n-2*this.#c)/this.#h).toFixed(4)),this.#p=parseFloat(((this.#o-2*this.#d)/this.#p).toFixed(4)),null!=this.#i&&(this.#i.setAttribute("viewBox",[0,0,this.#n.toFixed(4),this.#o.toFixed(4)].join(" ")),this.#i.setAttribute("width",this.#n.toFixed(4)),this.#i.setAttribute("height",this.#o.toFixed(4)))}#S(e,t,i){const a=document.createElementNS(t,e);for(let e in i)a.setAttribute(e,i[e]);return a}#v(e,t){return this.#S("path",this.#m,{transform:"matrix("+[this.#h,0,0,this.#p,this.#c,this.#d]+")",fill:this.#u[0],d:this.#T(e,t)})}#T(e,t){let i="",a=0,r=e.length;for(;r;)e[--r]&&++a&&!e[r-1]&&(i+="v"==t?`M1,${r}H0v${a}h1v-${a}z`:`M${r},1h${a}V0h-${a}v1z`,a=0);return i}#r(e){if(null!=e){for(;e.lastChild;)e.removeChild(e.lastChild);return null!=this.#u[1]&&e.appendChild(this.#S("path",this.#m,{fill:this.#u[1],d:`M0,0V${this.#o}H${this.#n}V0H0Z`})),e.appendChild(this.#v(this.#A,this.#L)),e}}#D(e,t){const i=e[t],a=0===t,r=t===e.length-1;return i.data.length>=2+(a?0:2)+(r?0:2)?(i.enc="C",i.data.length%2==0||(a&&r?(e.push({data:i.data.slice(-1),enc:"B"}),i.data=i.data.slice(0,-1)):r?(e[t-1].data+=i.data.slice(0,1),i.data=i.data.slice(1)):(e[t+1].data=i.data.slice(-1)+e[t+1].data,i.data=i.data.slice(0,-1))),!0):(i.enc=i.enc.replace(/C/g,""),!1)}#b(e,t){const i=e[t];for(;i.enc.length>1&&(!i.enc.includes("C")||!this.#D(e,t));){for(let a=t-1;a>=0&&!e[a].enc.includes("C");a--)if("A"==e[a].enc||"B"==e[a].enc)return void(i.enc=e[a].enc);if(t==e.length-1)return void(i.enc="B");for(let a=t+1;a<e.length;a++){if(e[a].enc.includes("C")&&this.#D(e,a),"C"==e[a].enc)return void(i.enc="B");if("A"==e[a].enc||"B"==e[a].enc)return void(i.enc=e[a].enc)}i.enc.length>1&&this.#b(e,t+1)}}get128Avalue(e){let t=e.charCodeAt(0);return t<32?t+64:t<127?t-32:196==t||197==t||201==t||202==t?t-100:(console.error("illegal character in barcode could not be converted to Code128A:"+e),NaN)}get128Bvalue(e){let t=e.charCodeAt(0);return t<32?NaN:t<127?t-32:195==t||196==t||197==t||200==t||202==t?t-100:(console.error("illegal character in barcode could not be converted to Code128B:"+e),NaN)}#I(e){var t=0;for(let i=e.length-1;i>0;--i)t+=i*e[i];return(t+e[0])%103}#g(e){let t="",i=[];for(let a=0;a<e.length;a++){const r=e[a];switch(r.enc){case"A":r.enc!=t&&(i.push(0==a?103:101),t=r.enc);for(let e of r.data){const t=this.get128Avalue(e);isNaN(t)||i.push(t)}break;case"B":r.enc!=t&&(i.push(0==a?104:100),t=r.enc);for(let e of r.data){const t=this.get128Bvalue(e);isNaN(t)||i.push(t)}break;case"C":r.enc!=t&&(i.push(0==a?105:99),t=r.enc);for(let e=0;e<r.data.length;e+=2)i.push(parseInt(r.data[e]+r.data[e+1]));break;default:console.error("message block encoding unknown")}}return i.push(this.#I(i)),i.push(106),i}#t(e){const t=e.match(/[0-9]+|[\x00-\x1F\xC9]+|[\x60-\x7F\xC3\xC8]+|[\x20-\x2F\x3A-\x5F\xC4\xC5\xCA]+/g);if(!t)return[];let i=[];for(let e of t){let t="";/[0-9]+/g.test(e)&&(t+="C"),/[\x20-\x7F\xC3\xC4\xC5\xC8\xCA]+/g.test(e)&&(t+="B"),/[\x00-\x5F\xC4\xC5\xC9\xCA]+/g.test(e)&&(t+="A"),i.push({data:e,enc:t})}for(let e=0;e<i.length;e++)this.#b(i,e);let a=[];this.#f=this.#g(i);for(let e of this.#f)e<=106&&a.push(this.#y(e));return this.#A=this.#x(a.join("")),this.#A}#y(e){return 106<e?"":[1740,1644,1638,1176,1164,1100,1224,1220,1124,1608,1604,1572,1436,1244,1230,1484,1260,1254,1650,1628,1614,1764,1652,1902,1868,1836,1830,1892,1844,1842,1752,1734,1590,1304,1112,1094,1416,1128,1122,1672,1576,1570,1464,1422,1134,1496,1478,1142,1910,1678,1582,1768,1762,1774,1880,1862,1814,1896,1890,1818,1914,1602,1930,1328,1292,1200,1158,1068,1062,1424,1412,1232,1218,1076,1074,1554,1616,1978,1556,1146,1340,1212,1182,1508,1268,1266,1956,1940,1938,1758,1782,1974,1400,1310,1118,1512,1506,1960,1954,1502,1518,1886,1966,1668,1680,1692,6379][e].toString(2)}#x(e){for(var t=[],i=e.length;i;)t[--i]=parseInt(e[i]);return t}}t.Code128Barcode=i,e.exports=i},973:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.products=t.granulocytes=t.cryo=t.ffp=t.platelets=t.redCells=t.Component=void 0;class i{name;text;irradPossible;specialPossible;cmvPossible;hbsPossible;storageText;color;anticoagulantTextVisibility;rhPhenVisibility;constructor(e,t,i,a,r,s,n,o,l,c){this.name=e,this.text=t,this.irradPossible=i,this.specialPossible=a,this.cmvPossible=r,this.hbsPossible=s,this.storageText=n,this.color=o,this.anticoagulantTextVisibility=l,this.rhPhenVisibility=c}}t.Component=i,t.redCells=new i("R","Red Cells",!0,!0,!0,!0,"STORE AT 4°C ± 2°C","Red","visible","visible"),t.platelets=new i("P","Platelets",!0,!0,!0,!1,"STORE AT 22°C ± 2°C EXTENDED LIFE<br />AGITATE GENTLY THROUGHOUT STORAGE","Yellow","hidden","hidden"),t.ffp=new i("F","Fresh Frozen Plasma",!1,!1,!1,!1,"STORE FROZEN AT -25°C OR BELOW<br />TIME THAWED _______ DATE _______","Yellow","hidden","hidden"),t.cryo=new i("C","Cryoprecipitate",!1,!1,!1,!1,"STORE FROZEN AT -25°C OR BELOW<br />USE WITHIN 4 HOURS OF THAWING<br />TIME THAWED _______ DATE _______","Yellow","hidden","hidden"),t.granulocytes=new i("G","Granulocytes",!0,!0,!0,!0,"DO NOT AGITATE<br />STORE AT 22°C ± 2°C","Red","hidden","hidden"),t.products=[{component:t.redCells,pack:0,irr:!1,special:!1,availability:!0,code:"04333",volume:289,shelfLife:35,text:"RED CELLS IN ADDITIVE SOLUTION LD"},{component:t.redCells,pack:0,irr:!0,special:!1,availability:!0,code:"44333",volume:289,shelfLife:14,text:"RED CELLS IN ADDITIVE SOLUTION LD, IRRADIATED"},{component:t.redCells,pack:0,irr:!1,special:!0,availability:!0,code:"06460",volume:292,shelfLife:1,text:"RED CELLS THAWED AND WASHED, LD MANUAL PREPARATION"},{component:t.redCells,pack:0,irr:!1,special:!0,availability:!0,code:"54263",volume:295,shelfLife:3,text:"RED CELLS THAWED AND WASHED, LD CLOSED SYSTEM PREPARATION"},{component:t.redCells,pack:0,irr:!1,special:!0,availability:!0,code:"46531",volume:278,shelfLife:14,text:"RED CELLS WASHED, LD. MANUAL WASH IN SAGM"},{component:t.redCells,pack:0,irr:!0,special:!0,availability:!0,code:"46532",volume:278,shelfLife:2,text:"RED CELLS WASHED, LD, IRRADIATED. MANUAL WASH IN SAGM"},{component:t.platelets,pack:0,irr:!1,special:!1,availability:!0,code:"54288",volume:217,shelfLife:7,text:"PLATELETS, APHERESIS, LD"},{component:t.platelets,pack:1,irr:!1,special:!1,availability:!0,code:"54289",volume:217,shelfLife:7,text:"PLATELETS, APHERESIS, LD"},{component:t.platelets,pack:2,irr:!1,special:!1,availability:!0,code:"54290",volume:217,shelfLife:7,text:"PLATELETS, APHERESIS, LD"},{component:t.platelets,pack:3,irr:!1,special:!1,availability:!0,code:"54291",volume:217,shelfLife:7,text:"PLATELETS, APHERESIS, LD"},{component:t.platelets,pack:0,irr:!0,special:!1,availability:!0,code:"54292",volume:217,shelfLife:7,text:"PLATELETS, APHERESIS, LD, IRRADIATED"},{component:t.platelets,pack:1,irr:!0,special:!1,availability:!0,code:"54293",volume:217,shelfLife:7,text:"PLATELETS, APHERESIS, LD, IRRADIATED"},{component:t.platelets,pack:2,irr:!0,special:!1,availability:!0,code:"54294",volume:217,shelfLife:7,text:"PLATELETS, APHERESIS, LD, IRRADIATED"},{component:t.platelets,pack:3,irr:!0,special:!1,availability:!0,code:"54295",volume:217,shelfLife:7,text:"PLATELETS, APHERESIS, LD, IRRADIATED"},{component:t.platelets,pack:1,irr:!1,special:!0,availability:!0,code:"54243",volume:207,shelfLife:1,text:"PLATELETS, APHERESIS IN ADDITIVE SOLUTION PACK 1 LD"},{component:t.platelets,pack:2,irr:!1,special:!0,availability:!0,code:"54244",volume:207,shelfLife:1,text:"PLATELETS, APHERESIS IN ADDITIVE SOLUTION PACK 2 LD"},{component:t.platelets,pack:3,irr:!1,special:!0,availability:!0,code:"54245",volume:207,shelfLife:1,text:"PLATELETS, APHERESIS IN ADDITIVE SOLUTION PACK 3 LD"},{component:t.platelets,pack:0,irr:!1,special:!0,availability:!0,code:"54246",volume:207,shelfLife:1,text:"PLATELETS, APHERESIS IN ADDITIVE SOLUTION LD"},{component:t.platelets,pack:1,irr:!0,special:!0,availability:!0,code:"54233",volume:207,shelfLife:1,text:"PLATELETS, APHERESIS IN ADDITIVE SOLUTION, IRRADIATED, PACK 1 LD"},{component:t.platelets,pack:2,irr:!0,special:!0,availability:!0,code:"54234",volume:207,shelfLife:1,text:"PLATELETS, APHERESIS IN ADDITIVE SOLUTION, IRRADIATED, PACK 2 LD"},{component:t.platelets,pack:3,irr:!0,special:!0,availability:!0,code:"54235",volume:207,shelfLife:1,text:"PLATELETS, APHERESIS IN ADDITIVE SOLUTION, IRRADIATED, PACK 3 LD"},{component:t.platelets,pack:0,irr:!0,special:!0,availability:!0,code:"54236",volume:207,shelfLife:1,text:"PLATELETS APHERESIS IN ADDITIVE SOLUTION, IRRADIATED, LD"},{component:t.platelets,pack:0,irr:!1,special:!1,availability:!0,code:"54477",volume:294,shelfLife:7,text:"PLATELETS POOLED IN ADDITIVE SOLUTION AND PLASMA, LD"},{component:t.platelets,pack:0,irr:!0,special:!1,availability:!0,code:"54478",volume:294,shelfLife:7,text:"PLATELETS POOLED IN ADDITIVE SOLUTION AND PLASMA, IRRADIATED, LD"},{component:t.ffp,pack:0,irr:!1,special:!1,availability:!0,code:"18300",volume:264,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD"},{component:t.ffp,pack:0,irr:!1,special:!1,availability:!0,code:"18320",volume:264,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD"},{component:t.ffp,pack:1,irr:!1,special:!1,availability:!0,code:"18321",volume:264,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD"},{component:t.ffp,pack:2,irr:!1,special:!1,availability:!0,code:"18322",volume:264,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD"},{component:t.cryo,pack:0,irr:!1,special:!1,availability:!0,code:"10190",volume:229,shelfLife:1095,text:"CRYOPRECIPITATE, POOLED, LD"},{component:t.redCells,pack:0,irr:!0,special:!0,availability:!0,code:"40018",volume:251,shelfLife:1,text:"RED CELLS, CPD, LD, IRRADIATED, FOR INTRAUTERINE TRANSFUSION"},{component:t.redCells,pack:1,irr:!1,special:!1,availability:!0,code:"56830",volume:47,shelfLife:35,text:"RED CELLS IN ADDITIVE SOLUTION LD FOR NEONATAL USE"},{component:t.redCells,pack:2,irr:!1,special:!1,availability:!0,code:"56831",volume:47,shelfLife:35,text:"RED CELLS IN ADDITIVE SOLUTION LD FOR NEONATAL USE"},{component:t.redCells,pack:3,irr:!1,special:!1,availability:!0,code:"56832",volume:47,shelfLife:35,text:"RED CELLS IN ADDITIVE SOLUTION LD FOR NEONATAL USE"},{component:t.redCells,pack:4,irr:!1,special:!1,availability:!0,code:"56833",volume:47,shelfLife:35,text:"RED CELLS IN ADDITIVE SOLUTION LD FOR NEONATAL USE"},{component:t.redCells,pack:5,irr:!1,special:!1,availability:!0,code:"56834",volume:47,shelfLife:35,text:"RED CELLS IN ADDITIVE SOLUTION LD FOR NEONATAL USE"},{component:t.redCells,pack:6,irr:!1,special:!1,availability:!0,code:"56835",volume:47,shelfLife:35,text:"RED CELLS IN ADDITIVE SOLUTION LD FOR NEONATAL USE"},{component:t.redCells,pack:1,irr:!0,special:!1,availability:!0,code:"46830",volume:47,shelfLife:14,text:"RED CELLS IN ADDITIVE SOLUTION LD, IRRADIATED FOR NEONATAL USE"},{component:t.redCells,pack:2,irr:!0,special:!1,availability:!0,code:"46831",volume:47,shelfLife:14,text:"RED CELLS IN ADDITIVE SOLUTION LD, IRRADIATED FOR NEONATAL USE"},{component:t.redCells,pack:3,irr:!0,special:!1,availability:!0,code:"46832",volume:47,shelfLife:14,text:"RED CELLS IN ADDITIVE SOLUTION LD, IRRADIATED FOR NEONATAL USE"},{component:t.redCells,pack:4,irr:!0,special:!1,availability:!0,code:"46833",volume:47,shelfLife:14,text:"RED CELLS IN ADDITIVE SOLUTION LD, IRRADIATED FOR NEONATAL USE"},{component:t.redCells,pack:5,irr:!0,special:!1,availability:!0,code:"46834",volume:47,shelfLife:14,text:"RED CELLS IN ADDITIVE SOLUTION LD, IRRADIATED FOR NEONATAL USE"},{component:t.redCells,pack:6,irr:!0,special:!1,availability:!0,code:"46835",volume:47,shelfLife:14,text:"RED CELLS IN ADDITIVE SOLUTION LD, IRRADIATED FOR NEONATAL USE"},{component:t.redCells,pack:0,irr:!0,special:!0,availability:!0,code:"40350",volume:362,shelfLife:1,text:"RED CELLS (CPD), LD, IRRADIATED FOR EXCHANGE TRANSFUSION"},{component:t.redCells,pack:0,irr:!1,special:!1,availability:!0,code:"54481",volume:289,shelfLife:35,text:"RED CELLS IN ADDITIVE SOLUTION, LD FOR NEONATES AND INFANTS"},{component:t.redCells,pack:0,irr:!0,special:!1,availability:!0,code:"54482",volume:289,shelfLife:14,text:"RED CELLS IN ADDITIVE SOLUTION, LD FOR NEONATES AND INFANTS, IRRADIATED"},{component:t.platelets,pack:0,irr:!0,special:!0,availability:!0,code:"42964",volume:96,shelfLife:1,text:"PLATELETS, HYPERCONCENTRATED, IRRADIATED, FOR INTRAUTERINE TRANSFUSION"},{component:t.platelets,pack:1,irr:!1,special:!1,availability:!0,code:"30031",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD FOR NEONATAL USE"},{component:t.platelets,pack:2,irr:!1,special:!1,availability:!0,code:"30032",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD FOR NEONATAL USE"},{component:t.platelets,pack:3,irr:!1,special:!1,availability:!0,code:"30033",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD FOR NEONATAL USE"},{component:t.platelets,pack:4,irr:!1,special:!1,availability:!0,code:"30034",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD FOR NEONATAL USE"},{component:t.platelets,pack:5,irr:!1,special:!1,availability:!0,code:"30035",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD FOR NEONATAL USE"},{component:t.platelets,pack:6,irr:!1,special:!1,availability:!0,code:"30036",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD FOR NEONATAL USE"},{component:t.platelets,pack:7,irr:!1,special:!1,availability:!0,code:"30037",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD FOR NEONATAL USE"},{component:t.platelets,pack:8,irr:!1,special:!1,availability:!0,code:"30038",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD FOR NEONATAL USE"},{component:t.platelets,pack:1,irr:!0,special:!1,availability:!0,code:"30051",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:2,irr:!0,special:!1,availability:!0,code:"30052",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:3,irr:!0,special:!1,availability:!0,code:"30053",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:4,irr:!0,special:!1,availability:!0,code:"30054",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:5,irr:!0,special:!1,availability:!0,code:"30055",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:6,irr:!0,special:!1,availability:!0,code:"30056",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:7,irr:!0,special:!1,availability:!0,code:"30057",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:8,irr:!0,special:!1,availability:!0,code:"30058",volume:63,shelfLife:7,text:"PLATELETS IN PLASMA AND ADDITIVE SOLUTION, LD IRRADIATED FOR NEONATAL USE"},{component:t.ffp,pack:1,irr:!1,special:!1,availability:!0,code:"69601",volume:65,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD FOR NEONATAL USE"},{component:t.ffp,pack:2,irr:!1,special:!1,availability:!0,code:"69602",volume:65,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD FOR NEONATAL USE"},{component:t.ffp,pack:3,irr:!1,special:!1,availability:!0,code:"69603",volume:65,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD FOR NEONATAL USE"},{component:t.ffp,pack:4,irr:!1,special:!1,availability:!0,code:"69604",volume:65,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD FOR NEONATAL USE"},{component:t.ffp,pack:5,irr:!1,special:!1,availability:!0,code:"59711",volume:65,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD FOR NEONATAL USE"},{component:t.ffp,pack:6,irr:!1,special:!1,availability:!0,code:"59712",volume:65,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD FOR NEONATAL USE"},{component:t.ffp,pack:7,irr:!1,special:!1,availability:!0,code:"59713",volume:65,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD FOR NEONATAL USE"},{component:t.ffp,pack:8,irr:!1,special:!1,availability:!0,code:"59714",volume:65,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD FOR NEONATAL USE"},{component:t.ffp,pack:9,irr:!1,special:!1,availability:!0,code:"59715",volume:65,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD FOR NEONATAL USE"},{component:t.ffp,pack:10,irr:!1,special:!1,availability:!0,code:"59716",volume:65,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD FOR NEONATAL USE"},{component:t.ffp,pack:11,irr:!1,special:!1,availability:!0,code:"59717",volume:65,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD FOR NEONATAL USE"},{component:t.ffp,pack:12,irr:!1,special:!1,availability:!0,code:"59718",volume:65,shelfLife:1095,text:"FRESH FROZEN PLASMA, LD FOR NEONATAL USE"},{component:t.cryo,pack:0,irr:!1,special:!1,availability:!0,code:"29981",volume:53,shelfLife:1095,text:"CRYOPRECIPITATE, LD FOR NEONATAL USE"},{component:t.granulocytes,pack:0,irr:!0,special:!1,availability:!0,code:"54395",volume:222,shelfLife:0,text:"GRANULOCYTES, POOLED, IN ADDITIVE SOLUTION / PLASMA MIX, IRRADIATED"},{component:t.platelets,pack:0,irr:!1,special:!1,availability:!1,code:"12030",volume:199,shelfLife:5,text:"PLATELETS APHERESIS LD"},{component:t.platelets,pack:1,irr:!1,special:!1,availability:!1,code:"58340",volume:199,shelfLife:5,text:"PLATELETS APHERESIS LD"},{component:t.platelets,pack:2,irr:!1,special:!1,availability:!1,code:"58341",volume:199,shelfLife:5,text:"PLATELETS APHERESIS LD"},{component:t.platelets,pack:3,irr:!1,special:!1,availability:!1,code:"58342",volume:199,shelfLife:5,text:"PLATELETS APHERESIS LD"},{component:t.platelets,pack:0,irr:!0,special:!1,availability:!1,code:"42030",volume:199,shelfLife:5,text:"PLATELETS APHERESIS LD, IRRADIATED"},{component:t.platelets,pack:1,irr:!0,special:!1,availability:!1,code:"48340",volume:199,shelfLife:5,text:"PLATELETS APHERESIS LD, IRRADIATED"},{component:t.platelets,pack:2,irr:!0,special:!1,availability:!1,code:"48341",volume:199,shelfLife:5,text:"PLATELETS APHERESIS LD, IRRADIATED"},{component:t.platelets,pack:3,irr:!0,special:!1,availability:!1,code:"48342",volume:199,shelfLife:5,text:"PLATELETS APHERESIS LD, IRRADIATED"},{component:t.platelets,pack:0,irr:!1,special:!1,availability:!0,code:"54232",volume:294,shelfLife:5,text:"PLATELETS POOLED IN PLASMA/ADDITIVE MIXTURE LD"},{component:t.platelets,pack:0,irr:!0,special:!1,availability:!0,code:"54242",volume:294,shelfLife:5,text:"PLATELETS POOLED IN PLASMA/ADDITIVE MIX LD, IRRADIATED"},{component:t.platelets,pack:0,irr:!1,special:!1,availability:!1,code:"12769",volume:298,shelfLife:5,text:"PLATELETS POOLED, LD"},{component:t.platelets,pack:0,irr:!1,special:!1,availability:!1,code:"12789",volume:298,shelfLife:7,text:"PLATELETS POOLED, LD, EXTENDED LIFE"},{component:t.platelets,pack:0,irr:!0,special:!1,availability:!1,code:"54296",volume:298,shelfLife:7,text:"PLATELETS POOLED, LD, EXTENDED LIFE, IRRADIATED"},{component:t.platelets,pack:0,irr:!1,special:!1,availability:!1,code:"54247",volume:298,shelfLife:1,text:"PLATELETS POOLED IN ADDITIVE SOLUTION"},{component:t.platelets,pack:0,irr:!0,special:!1,availability:!1,code:"54237",volume:298,shelfLife:1,text:"PLATELETS POOLED IN ADDITIVE SOLUTION, IRRADIATED"},{component:t.platelets,pack:0,irr:!0,special:!1,availability:!1,code:"42769",volume:298,shelfLife:5,text:"PLATELETS POOLED, LD, IRRADIATED"},{component:t.platelets,pack:1,irr:!1,special:!1,availability:!1,code:"58231",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 01 LD FOR NEONATAL USE"},{component:t.platelets,pack:2,irr:!1,special:!1,availability:!1,code:"58232",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 02 LD FOR NEONATAL USE"},{component:t.platelets,pack:3,irr:!1,special:!1,availability:!1,code:"58233",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 03 LD FOR NEONATAL USE"},{component:t.platelets,pack:4,irr:!1,special:!1,availability:!1,code:"58234",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 04 LD FOR NEONATAL USE"},{component:t.platelets,pack:5,irr:!1,special:!1,availability:!1,code:"58235",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 05 LD FOR NEONATAL USE"},{component:t.platelets,pack:6,irr:!1,special:!1,availability:!1,code:"58236",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 06 LD FOR NEONATAL USE"},{component:t.platelets,pack:7,irr:!1,special:!1,availability:!1,code:"58237",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 07 LD FOR NEONATAL USE"},{component:t.platelets,pack:8,irr:!1,special:!1,availability:!1,code:"58238",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 08 LD FOR NEONATAL USE"},{component:t.platelets,pack:9,irr:!1,special:!1,availability:!1,code:"50778",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 09 LD FOR NEONATAL USE"},{component:t.platelets,pack:10,irr:!1,special:!1,availability:!1,code:"50779",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 10 LD FOR NEONATAL USE"},{component:t.platelets,pack:11,irr:!1,special:!1,availability:!1,code:"50780",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 11 LD FOR NEONATAL USE"},{component:t.platelets,pack:12,irr:!1,special:!1,availability:!1,code:"50781",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 12 LD FOR NEONATAL USE"},{component:t.platelets,pack:1,irr:!0,special:!1,availability:!1,code:"48231",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 01 LD, IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:2,irr:!0,special:!1,availability:!1,code:"48232",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 02 LD, IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:3,irr:!0,special:!1,availability:!1,code:"48233",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 03 LD, IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:4,irr:!0,special:!1,availability:!1,code:"48234",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 04 LD, IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:5,irr:!0,special:!1,availability:!1,code:"48235",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 05 LD, IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:6,irr:!0,special:!1,availability:!1,code:"48236",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 06 LD, IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:7,irr:!0,special:!1,availability:!1,code:"48237",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 07 LD, IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:8,irr:!0,special:!1,availability:!1,code:"48238",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 08 LD, IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:9,irr:!0,special:!1,availability:!1,code:"40778",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 09 LD, IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:10,irr:!0,special:!1,availability:!1,code:"40779",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 10 LD, IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:11,irr:!0,special:!1,availability:!1,code:"40780",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 11 LD, IRRADIATED FOR NEONATAL USE"},{component:t.platelets,pack:12,irr:!0,special:!1,availability:!1,code:"40781",volume:50,shelfLife:5,text:"PLATELETS, APHERESIS, PACK 12 LD, IRRADIATED FOR NEONATAL USE"},{component:t.granulocytes,pack:0,irr:!0,special:!0,availability:!1,code:"46460",volume:56,shelfLife:0,text:"LEUCOCYTES, BUFFY COAT, IRRADIATED"},{component:t.redCells,pack:0,irr:!1,special:!0,availability:!1,code:"30002",volume:451,shelfLife:35,text:"WHOLE BLOOD (CPDA1) AUTOLOGOUS"}]},50:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductsLabel=t.ProductsForm=void 0;const a=i(973);t.ProductsForm=class{productLabel;groupLabel;components;datesForm;componentSelect;irradiatedIn;specialIn;availableIn;productSelect;cmvIn;hbsIn;constructor(e,t,i,a){e||alert("Product Label Undefined"),i||alert("Product Label Undefined"),a||alert("Dates Form Undefined"),this.productLabel=e,this.groupLabel=i,this.components=t,this.datesForm=a,this.componentSelect=document.querySelector("#product_type_select"),this.irradiatedIn=document.querySelector("#irradiated_in"),this.specialIn=document.querySelector("#special_in"),this.availableIn=document.querySelector("#available_in"),this.productSelect=document.querySelector("#product_select"),this.cmvIn=document.querySelector("#cmv_in"),this.hbsIn=document.querySelector("#hbs_in");for(let e of this.components)this.componentSelect.add(new Option(e.text,e.name),void 0);this.componentSelect.addEventListener("change",this.productFiltersChanged.bind(this)),this.irradiatedIn.addEventListener("change",this.productFiltersChanged.bind(this)),this.specialIn.addEventListener("change",this.productFiltersChanged.bind(this)),this.availableIn.addEventListener("change",this.productFiltersChanged.bind(this)),this.productSelect.addEventListener("change",this.selectedProductChanged.bind(this)),this.updateProductsSelect(),this.productFiltersChanged()}updateProductsSelect(){const e=this.productSelect.value;for(;this.productSelect.length>0;)this.productSelect.remove(0);const t=a.products.filter((e=>e.component.name===this.componentSelect.value&&e.irr===this.irradiatedIn.checked&&e.special===this.specialIn.checked&&e.availability>=this.availableIn.checked));for(const e of t){let t=e.pack>0?e.text+" ("+e.pack+")":e.text;e.availability||(t+=" [unavailable]"),this.productSelect.add(new Option(t,e.code),void 0)}-1!=t.findIndex((t=>t.code===e))?this.productSelect.value=e:this.selectedProductChanged()}productFiltersChanged(){const e=this.components.find((e=>e.name===this.componentSelect.value));e&&(this.irradiatedIn.disabled=!e.irradPossible,this.specialIn.disabled=!e.specialPossible,e.irradPossible||(this.irradiatedIn.checked=!1),e.specialPossible||(this.specialIn.checked=!1),"G"==e.name&&(this.irradiatedIn.checked=!0,this.irradiatedIn.disabled=!0),this.updateProductsSelect(),this.cmvIn.disabled=!e.cmvPossible,this.hbsIn.disabled=!e.hbsPossible,e.cmvPossible||(this.cmvIn.checked=!1),e.hbsPossible||(this.hbsIn.checked=!1),this.groupLabel.updateCmvHbsLabel(this.cmvIn.checked,this.hbsIn.checked))}selectedProductChanged(){this.datesForm.setExpiryDate(),this.productLabel.generateProductLabel(this.productSelect.value)}},t.ProductsLabel=class{barcodeGenerator;dataMatrixBarcode;productTextFo;packTextBlock;packTextFo;productTextFoParent;storageTextFo;linearGradientFluidUrl1;linearGradientFluidUrl2;volumeTextFo;anticoagulantText;rhPhenGroup;rhcSelect;rheSelect;irradSticker;barcode="";IsbtCode="";constructor(e,t){e||alert("Barcode Generator undefined"),this.barcodeGenerator=e,t||alert("DataMatrix Barcode Undefined"),this.dataMatrixBarcode=t,this.productTextFo=document.querySelector("#product_text_fo"),this.packTextBlock=document.querySelector("#packTextBlock"),this.packTextFo=document.querySelector("#pack_text_fo"),this.productTextFoParent=document.querySelector("#product_text_fo_parent"),this.storageTextFo=document.querySelector("#storage_text_fo"),this.linearGradientFluidUrl1=document.querySelector("#linearGradientFluidUrl1"),this.linearGradientFluidUrl2=document.querySelector("#linearGradientFluidUrl2"),this.volumeTextFo=document.querySelector("#volume_text_fo"),this.anticoagulantText=document.querySelector("#anticoagulant_info"),this.rhPhenGroup=document.querySelector("#rh_phen_group"),this.rhcSelect=document.querySelector("#rhc_select"),this.rheSelect=document.querySelector("#rhe_select"),this.irradSticker=document.querySelector("#irradiated_sticker")}shrinkLetterSpacingToFitParent(e,t){if(e&&t)for(let i=0;i>-1.5&&!(t.scrollHeight<=t.clientHeight+2);i-=.1)e.style.letterSpacing=i+"px"}generateProductLabel(e){if(""==e)return;const t=a.products.find((t=>t.code===e));null!=t&&(this.barcode="a0"+t.code+"3b",this.IsbtCode="=<"+t.code,this.barcodeGenerator.generateBarcode(this.barcode,document.querySelector("#product_barcode_svg"),"codabar"),this.dataMatrixBarcode.setProductCode=this.IsbtCode,t.pack<1?(this.packTextFo.textContent="",this.packTextBlock.style.visibility="hidden"):(this.packTextFo.textContent="PACK "+String(t.pack).padStart(2,"0"),this.packTextBlock.style.visibility="visible"),this.storageTextFo.innerHTML=t.component.storageText,this.linearGradientFluidUrl1.setAttribute("xlink:href","#linearGradientFluid"+t.component.color),this.linearGradientFluidUrl2.setAttribute("xlink:href","#linearGradientFluid"+t.component.color),this.volumeTextFo.innerHTML="Volume<br />"+t.volume+" mL",this.anticoagulantText.style.visibility=t.component.anticoagulantTextVisibility,this.rhPhenGroup.style.visibility=t.component.rhPhenVisibility,this.rhcSelect.disabled="hidden"==t.component.rhPhenVisibility,this.rheSelect.disabled="hidden"==t.component.rhPhenVisibility,this.irradSticker.style.visibility=t.irr?"visible":"hidden",this.productTextFo.textContent=t.text,this.productTextFo.style.fontSize="9pt",this.productTextFo.style.letterSpacing="0px",this.shrinkLetterSpacingToFitParent(this.productTextFo,this.productTextFoParent))}}},915:(e,t,i)=>{"use strict";function a(e){function t(e){const t={0:3,1:6,2:9,3:96,4:18,5:66,6:33,7:36,8:48,9:72,"-":12,$:24,":":69,"/":81,".":84,"+":21,A:26,B:41,C:11,D:14,T:26,N:41,"*":11,E:14};if(t[e])return t[e].toString(2).padStart(7,"0");console.warn(`Codabar: Invalid character for Codabar: ${e}`)}function i(e){return Math.abs(parseInt(e))||0}function a(e){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(e)}var r="string"==typeof e?{msg:e}:e||{},s=r.msg.toUpperCase(),n=0,o=0,l=r.dim||[320,80],c=r.pad||[20,16],d=r.pal||["#000","#fff"],h=i(l[0]),p=i(l[1]),u=i(c[0]),E=i(c[1]),L=d[0],f=d[1],A=1,m=1,S=0,v=Math.min(Math.max(parseFloat(r.ratio),2.25),3)||3;s&&"string"==typeof s||(console.warn("Codabar: Expected {msg} should be not empty string!"),s="",S=1),/[^-$:/.+*ABCDNET0-9]/g.test(s)&&(console.warn("Codabar: Expected {msg} contains characters not encodable in Codabar!"),s="",S=1),/^[^*ABCDNET]|[^*ABCDNET]$/g.test(s)&&(console.warn("Codabar: First and last characters of Codabar {msg} must be one of either: *ABCDNET"),s="",S=1),/[^-$:/.+0-9]/g.test(s.substring(1,s.length-1))&&(console.warn("Codabar: Inner characters of Codabar {msg} must be either: -$:/.+0-9"),s="",S=1);const T=1*v;s=function(e){for(var i=[],a=e.length;a;)i[--a]=t(e[a]);return i.join("0")}(s),o=0;for(let e=0;e<s.length;e++)o+="1"==s[e]?T:1;return 0==h&&0==p&&(E=16,h=2*(o+(u=20)),p=80),n=p>h,0==h&&(h=2*(o+u),n=0),0==p&&(p=2*(o+E),n=1),h<u&&(u=h,console.warn("Codabar: Expected {pad} value could not be bigger than {dim} value")),p<E&&(E=p,console.warn("Codabar: Expected {pad} value could not be bigger than {dim} value")),n?m=o:A=o,A=((h-2*u)/A).toFixed(4),m=((p-2*E)/m).toFixed(4),(S||!a(L)||f&&!a(f))&&(L="#b11",f="#fee",console.warn("Codabar: Please, double check barcode params")),function(){function e(e,i){for(var a in e=document.createElementNS(t,e),i||{})e.setAttribute(a,i[a]);return e}var t="http://www.w3.org/2000/svg";let i=0,a=n?"M1,0":"M0,";for(let e=0;e<s.length;e++){const t="1"==s[e]?T:1;i+=t,a+=e%2==0?n?`H0v${t}h1v-${t}z`:`1h${t}V0h-${t}v1z`:n?`M1,${i}`:`M${i},`}var r=e("svg",{viewBox:[0,0,h,p].join(" "),width:h,height:p,fill:L,"shape-rendering":"crispEdges",xmlns:t,version:"1.1"});return f&&r.appendChild(e("path",{fill:f,d:"M0,0V"+p+"H"+h+"V0H0Z"})),r.appendChild(e("path",{transform:"matrix("+[A,0,0,m,u,E]+")",d:a})),r}()}i.r(t),i.d(t,{Codabar:()=>a})},930:(e,t,i)=>{"use strict";function a(e){function t(e,t){const i=e[t],a=0===t,r=t===e.length-1;return i.data.length>=2+(a?0:2)+(r?0:2)?(i.enc="C",i.data.length%2==0||(a&&r?(e.push({data:i.data.slice(-1),enc:"B"}),i.data=i.data.slice(0,-1)):r?(e[t-1].data+=i.data.slice(0,1),i.data=i.data.slice(1)):(e[t+1].data=i.data.slice(-1)+e[t+1].data,i.data=i.data.slice(0,-1))),!0):(i.enc=i.enc.replace(/C/g,""),!1)}function i(e,a){const r=e[a];for(;r.enc.length>1&&(!r.enc.includes("C")||!t(e,a));){for(let t=a-1;t>=0&&!e[t].enc.includes("C");t--)if("A"==e[t].enc||"B"==e[t].enc)return void(r.enc=e[t].enc);if(a==e.length-1)return void(r.enc="B");for(let i=a+1;i<e.length;i++){if(e[i].enc.includes("C")&&t(e,i),"C"==e[i].enc)return void(r.enc="B");if("A"==e[i].enc||"B"==e[i].enc)return void(r.enc=e[i].enc)}r.enc.length>1&&i(e,a+1)}}function a(e){return Math.abs(parseInt(e))||0}function r(e){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(e)}var s,n="string"==typeof e?{msg:e}:e||{},o=n.msg,l=0,c=n.dim||[320,80],d=n.pad||[20,16],h=n.pal||["#000"],p=a(c[0]),u=a(c[1]),E=a(d[0]),L=a(d[1]),f=h[0],A=h[1],m=1,S=1,v=0;return o&&"string"==typeof o||(console.warn("Code128: Expected {msg} should be not empty string!"),o="error!",v=1),o=function(e){const t=e.match(/[0-9]+|[\x00-\x1F]+|[\x60-\x7F]+|[\x20-\x2F\x3A-\x5F]+/g);let a=[];for(let e of t){let t="";/[0-9]+/g.test(e)&&(t+="C"),/[\x20-\x7F]+/g.test(e)&&(t+="B"),/[\x00-\x5F]+/g.test(e)&&(t+="A"),a.push({data:e,enc:t})}for(let e=0;e<a.length;e++)i(a,e);let r=[];for(let e of function(e){function t(e){return(e=e.charCodeAt(0))>126?128==e?0:e-50:e>32?e-32:e+64}function i(e){return(e=e.charCodeAt(0))>126?128==e?0:e-50:e>32?e-32:0}let a="",r=[];for(let s=0;s<e.length;s++){const n=e[s];switch(n.enc){case"A":n.enc!=a&&(r.push(0==s?103:101),a=n.enc);for(let e of n.data)r.push(t(e));break;case"B":n.enc!=a&&(r.push(0==s?104:100),a=n.enc);for(let e of n.data)r.push(i(e));break;case"C":n.enc!=a&&(r.push(0==s?105:99),a=n.enc);for(let e=0;e<n.data.length;e+=2)r.push(parseInt(n.data[e]+n.data[e+1]));break;default:console.error("message block encoding unknown")}}return r.push(function(e){var t=0;for(let i=e.length-1;i>0;--i)t+=i*e[i];return(t+e[0])%103}(r)),r.push(106),r}(a))r.push((106<(s=e)&&(console.warn(`Code128: {bad char} (${s}) was used and it was replaced by X`),s=56,v=1),[1740,1644,1638,1176,1164,1100,1224,1220,1124,1608,1604,1572,1436,1244,1230,1484,1260,1254,1650,1628,1614,1764,1652,1902,1868,1836,1830,1892,1844,1842,1752,1734,1590,1304,1112,1094,1416,1128,1122,1672,1576,1570,1464,1422,1134,1496,1478,1142,1910,1678,1582,1768,1762,1774,1880,1862,1814,1896,1890,1818,1914,1602,1930,1328,1292,1200,1158,1068,1062,1424,1412,1232,1218,1076,1074,1554,1616,1978,1556,1146,1340,1212,1182,1508,1268,1266,1956,1940,1938,1758,1782,1974,1400,1310,1118,1512,1506,1960,1954,1502,1518,1886,1966,1668,1680,1692,6379][s].toString(2)));var s;return function(e){for(var t=[],i=e.length;i;)t[--i]=parseInt(e[i]);return t}(r.join(""))}(o),s=o.length,0==p&&0==u&&(L=16,p=2*(s+(E=20)),u=80),l=u>p,0==p&&(p=2*(s+E),l=0),0==u&&(u=2*(s+L),l=1),p<E&&(E=p,console.warn("Code128: Expected {pad} value could not be bigger than {dim} value",d,c)),u<L&&(L=u,console.warn("Code128: Expected {pad} value could not be bigger than {dim} value",d,c)),l?S=s:m=s,m=((p-2*E)/m).toFixed(4),S=((u-2*L)/S).toFixed(4),(v||!r(f)||A&&!r(A))&&(f="#b11",A="#fee",console.warn("Code128: Please, double check barcode params")),function(){function e(e,t){for(var a in e=document.createElementNS(i,e),t||{})e.setAttribute(a,t[a]);return e}for(var t,i="http://www.w3.org/2000/svg",a="",r=s,n=0;r;)o[--r]&&++n&&!o[r-1]&&(a+=l?"M1,"+r+"H0v"+n+"h1v-"+n+"z":"M"+r+",1h"+n+"V0h-"+n+"v1z",n=0);return t=e("svg",{viewBox:[0,0,p,u].join(" "),width:p,height:u,fill:f,"shape-rendering":"crispEdges",xmlns:i,version:"1.1"}),A&&t.appendChild(e("path",{fill:A,d:"M0,0V"+u+"H"+p+"V0H0Z"})),t.appendChild(e("path",{transform:"matrix("+[m,0,0,S,E,L]+")",d:a})),t}()}i.r(t),i.d(t,{Code128:()=>a})},281:(e,t,i)=>{"use strict";function a(e){var t=[],i=0,a=0,r=function(e,i){t[i]=t[i]||[],t[i][e]=1},s=function(e){for(var t=[],i=e.length,a=0;a<i;a++){var r=e.charCodeAt(a),s=a+1<i?e.charCodeAt(a+1):0;r>47&&r<58&&s>47&&s<58?(t.push(10*(r-48)+s+82),a++):r>127?(t.push(235),t.push(r-127&255)):t.push(r+1)}return t},n=function(e,t){var i,a,r=0,n=0,o=e.length,l=[t[0]],c=function(e){n=40*n+e,2==r++&&(l.push(++n>>8),l.push(255&n),r=n=0)};for(i=0;i<o&&(0!=r||i!=o-1);i++){var d=e.charCodeAt(i);for(d>127&&238!=l[0]&&(c(1),c(30),d-=128),a=1;d>t[a];a+=3);var h=t[a+1];if(8==h||9==h&&0==r&&i==o-1)return[];if(h<5&&2==r&&i==o-1)break;h<5&&c(h),c(d-t[a+2])}return 2==r&&238!==l[0]&&c(0),l.push(254),(r>0||i<o)&&(l=l.concat(s(e.substr(i-r)))),l};return function(){function o(e){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(e)}function l(e,t){for(var i in e=document.createElementNS(A,e),t||{})e.setAttribute(i,t[i]);return e}var c,d,h,p,u,E,L,f=Math.abs,A="http://www.w3.org/2000/svg",m="",S="string"==typeof e?{msg:e}:e||{},v=S.pal||["#000"],T=f(S.dim)||256,D=[1,0,0,1,L=(L=f(S.pad))>-1?L:2,L],b=o(b=v[0])?b:"#000",I=o(I=v[1])?I:0,g=S.vrb?0:1;for(function(e,t){e=unescape(encodeURI(e));var o=s(e),l=o.length,c=n(e,[230,31,0,0,32,9,29,47,1,33,57,9,44,64,1,43,90,9,51,95,1,69,127,2,96,255,1,0]),d=c.length;d>0&&d<l&&(o=c,l=d),(d=(c=n(e,[239,31,0,0,32,9,29,47,1,33,57,9,44,64,1,43,90,2,64,95,1,69,122,9,83,127,2,96,255,1,0])).length)>0&&d<l&&(o=c,l=d),(d=(c=n(e,[238,12,8,0,13,9,13,31,8,0,32,9,29,41,8,0,42,9,41,47,8,0,57,9,44,64,8,0,90,9,51,255,8,0])).length)>0&&d<l&&(o=c,l=d),c=function(e){for(var t,i=e.length,a=i+1&-4,r=0,n=a>0?[240]:[],o=0;o<a;o++){if(o<a-1){if((t=e.charCodeAt(o))<32||t>94)return[]}else t=31;r=64*r+(63&t),3==(3&o)&&(n.push(r>>16),n.push(r>>8&255),n.push(255&r),r=0)}return a>i?n:n.concat(s(e.substr(0==a?0:a-1)))}(e),(d=c.length)>0&&d<l&&(o=c,l=d),c=function(e){var t=[231],i=e.length;250<i&&t.push(37+(i/250|0)&255),t.push(i%250+149*(t.length+1)%255+1&255);for(var a=0;a<i;a++)t.push(e.charCodeAt(a)+149*(t.length+1)%255+1&255);return t}(e),(d=c.length)>0&&d<l&&(o=c,l=d);var h,p,u,E,L,f,A,m,S=1,v=1,T=-1,D=1,b=new Array(70),I=new Array(70),g=new Array(256),y=new Array(255);if(t&&l<50){c=[16,7,28,11,24,14,32,18,32,24,44,28];do{d=(p=c[++T])*(h=6+(12&T))/8}while(d-c[++T]<l);p>25&&(S=2)}else{p=h=6,L=2,c=[5,7,10,12,14,18,20,24,28,36,42,48,56,68,84,112,144,192,224,272,336,408,496,620];do{if(++T==c.length)return[0,0];p>11*L&&(L=4+L&12),d=(p=h+=L)*h>>3}while(d-c[T]<l);p>27&&(v=S=2*(p/54|0)+2),d>255&&(D=2*(d>>9)+2)}for(u=p/S,E=h/v,l<d-(m=c[T])&&(o[l++]=129);l<d-m;)o[l++]=(149*l%253+130)%254;for(m/=D,T=1,L=0;L<255;L++)y[L]=T,g[T]=L,(T+=T)>255&&(T^=301);for(b[m]=0,L=1;L<=m;L++)for(b[T=m-L]=1;T<m;T++)b[T]=b[T+1]^y[(g[b[T]]+L)%255];for(f=0;f<D;f++){for(L=0;L<=m;L++)I[L]=0;for(L=f;L<l;L+=D)for(T=0,x=I[0]^o[L];T<m;T++)I[T]=I[T+1]^(x?y[(g[b[T]]+g[x])%255]:0);for(L=0;L<m;L++)o[l+f+L*D]=I[L]}for(L=0;L<h+2*v;L+=E+2)for(T=0;T<p+2*S;T++)r(T,L+E+1),0==(1&T)&&r(T,L);for(L=0;L<p+2*S;L+=u+2)for(T=0;T<h;T++)r(L,T+2*(T/E|0)+1),1==(1&T)&&r(L+u+1,T+2*(T/E|0));for(m=2,f=0,A=4,D=[0,0,-1,0,-2,0,0,-1,-1,-1,-2,-1,-1,-2,-2,-2],L=0;L<d;A-=m,f+=m){if(A==h-3&&-1==f)c=[p,6-h,p,5-h,p,4-h,p,3-h,p-1,3-h,3,2,2,2,1,2];else if(A==h+1&&1==f&&0==(7&p)&&6==(7&h))c=[p-2,-h,p-3,-h,p-4,-h,p-2,-1-h,p-3,-1-h,p-4,-1-h,p-2,-2,-1,-2];else{if(0==A&&f==p-2&&3&p)continue;if(A<0||f>=p||A>=h||f<0)for(A+=2+(m=-m)/2,f+=2-m/2;A<0||f>=p||A>=h||f<0;)A-=m,f+=m;if(A==h-2&&0==f&&3&p)c=[p-1,3-h,p-1,2-h,p-2,2-h,p-3,2-h,p-4,2-h,0,1,0,0,0,-1];else if(A==h-2&&0==f&&4==(7&p))c=[p-1,5-h,p-1,4-h,p-1,3-h,p-1,2-h,p-2,2-h,0,1,0,0,0,-1];else{if(1==A&&f==p-1&&0==(7&p)&&6==(7&h))continue;c=D}}for(l=o[L++],T=0;l>0;T+=2,l>>=1)if(1&l){var x=f+c[T],N=A+c[T+1];x<0&&(x+=p,N+=4-(p+4&7)),N<0&&(N+=h,x+=4-(h+4&7)),r(x+2*(x/u|0)+1,N+2*(N/E|0)+1)}}for(L=p;3&L;L--)r(L,L);i=p+2*S,a=h+2*v}(S.msg||"",S.rct),u=i+2*L,E=a+2*L,h=a;h--;)for(p=0,d=i;d--;)t[h][d]&&(g?(p++,t[h][d-1]||(m+="M"+d+","+h+"h"+p+"v1h-"+p+"v-1z",p=0)):m+="M"+d+","+h+"h1v1h-1v-1z");return c=l("svg",{viewBox:[0,0,u,E].join(" "),width:T/E*u|0,height:T,fill:b,"shape-rendering":"crispEdges",xmlns:A,version:"1.1"}),I&&c.appendChild(l("path",{fill:I,d:"M0,0v"+E+"h"+u+"V0H0Z"})),c.appendChild(l("path",{transform:"matrix("+D+")",d:m})),c}()}i.r(t),i.d(t,{DATAMatrix:()=>a})}},t={};function i(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,i),s.exports}i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=i(962),t=i(336),a=i(877),r=i(959),s=i(191),n=i(177),o=i(50),l=i(973),c=i(678),d=new e.BarcodeGenerator;d.generateBarcodefromId("a8738a","cmv_barcode_svg","codabar"),d.generateBarcodefromId("=)0MAVXX603B","bag_mfg_barcode_svg","code128");const h=new t.DataMatrixBarcode(d),p=new a.ErrorHandler,u=new s.DinLabel(d,h),E=(new s.DinForm(p,u),new n.GroupsLabel(d,h)),L=(new n.GroupsForm(E),new r.DatesLabel(d,h)),f=new r.DatesForm(L),A=[l.redCells,l.platelets,l.ffp,l.cryo,l.granulocytes],m=new o.ProductsLabel(d,h),S=(new o.ProductsForm(m,A,E,f),new c({msg:"test",pad:[5,5],pal:["black","white"]}));document.querySelector("body").appendChild(S.svg)})()})();