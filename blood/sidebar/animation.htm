<!DOCTYPE HTML>
<html>
<head>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto&family=Roboto+Mono&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="sidebar.css" type="text/css" />
</head>
<body>
	<div class="noPrint">
		<div id="sidebar" class="sidebar" style="left: 0px; width: 300px;">

			<div id="navOpenDiv" class="navOpen" style="width: 40px;" onclick="toggleSidebar(this.parentNode)">
				<span id="navOpen" style="font-size: 20pt; font-weight: 700; position: absolute; top: 50%; transform-origin:center; transform: translate(-50%, -50%);">&#9776;</span><!-- ☰˂˃˄˅‹› -->
			</div>

			<div id="sidebarHeadingDiv" style="padding: 5px 10px 0 15px; margin-right:40px; cursor:default; user-select:none;">
				<span id="sidebarHeading" style="font-weight: 400; font-size:14pt;">EDIT</span>
				<hr style="margin:0;" />
			</div>

			<div class="sidebarContents">

				<div class="dropdownDiv">
					<a class="sidebarButton" onclick="toggleDropdown(this.parentNode);">DIN <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem" style="padding-right:20px;">
							<label style="display: block; width: 100%; user-select: none;">
								Facility ID:
								<input class="sidebarInput" id="fin" type="text" value="G000 0">
							</label>
						</div>
						<div class="dropdownItem" style="padding-right:20px;">
							<label style="display: block; width: 100%; user-select: none;">
								Year:
								<input class="sidebarInput" id="year" type="text" value="23">
							</label>
						</div>
						<div class="dropdownItem" style="padding-right:20px;">
							<label style="display: block; width: 100%; user-select:none;">
								Sequence No:
								<input class="sidebarInput" id="seq" type="text" value="000 000">
							</label>
						</div>
					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton" onclick="toggleDropdown(this.parentNode);">Product <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;" for="componentType">
								Component Type:
								<select id="componentType" class="sidebarSelect">
									<option value="R">Red Cells</option>
									<option value="P">Platelets</option>
									<option value="F">Fresh Frozen Plasma</option>
									<option value="C">Cryoprecipitate</option>
									<option value="G">Granulocytes</option>
								</select>
							</label>
						</div>

						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select:none;">
								Irradiated:
								<input style="float:right;" id="irradiated" type="checkbox">
							</label>
						</div>

						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select:none;">
								Special:
								<input style="float:right;" id="special" type="checkbox">
							</label>
						</div>

						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select:none;">
								Available:
								<input style="float:right;" id="available" type="checkbox">
							</label>
						</div>

						<hr />
						<a class="dropdownItem" href="javascript:void(0)">Product</a>
					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton" onclick="toggleDropdown(this.parentNode);">Group <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;">
								ABO:
								<select id="componentType" class="sidebarSelect">
									<option value="O">O</option>
									<option value="A">A</option>
									<option value="B">B</option>
									<option value="AB">AB</option>
								</select>
							</label>
						</div>

						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;">Rh: </label>
							<table style="width:100%; margin:0 auto; max-width: 250px; text-align:center;">
								<tr>
									<th>D</th>
									<th>C</th>
									<th>E</th>
									<th style="text-decoration:overline;">c</th>
									<th style="text-decoration:overline;">e</th>
								</tr>
								<tr>
									<td><input id="RhD" onchange="rhChanged();" type="checkbox"></td>
									<td><input id="RhC" onchange="rhChanged();" type="checkbox"></td>
									<td><input id="RhE" onchange="rhChanged();" type="checkbox"></td>
									<td><input id="Rhc" onchange="rhChanged();" type="checkbox" checked></td>
									<td><input id="Rhe" onchange="rhChanged();" type="checkbox" checked></td>
								</tr>
							</table>
						</div>

						<div class="dropdownDiv" style="padding:0;">
							<a class="sidebarButton" onclick="toggleDropdown(this.parentNode);">Possible haplotype(s): <span class="caretDown" /></a>
							<div class="dropdownContents" style="display:none; box-shadow:none;">
								<div class="dropdownItem" onclick="this.children[0].focus()">
									<span class="sidebarInput" id="phenotypeList" style="text-align:right; white-space:pre;" />
								</div>
							</div>
						</div>

					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton" onclick="toggleDropdown(this.parentNode);">Ext. Phenotypes <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem" style="padding-right:20px;">
							<label style="display: block; width: 100%; user-select:none;">
								Negative for:
								<span class="sidebarInput" id="phNeg" style="text-align:left;" />
							</label>
						</div>
						<div class="dropdownItem" style="padding-right:20px;">
							<label style="display: block; width: 100%; user-select:none;">
								Positive for:
								<span class="sidebarInput" id="phPos" style="text-align:left;" />
							</label>
						</div>
						<div class="dropdownItem" style="padding-right:20px;">
							<label style="display: block; width: 100%; user-select:none;">
								Untested:
								<span class="sidebarInput" id="phUnk" style="text-align:left;" />
							</label>
						</div>
						<div style="padding-bottom:3px;">
							<a class="sidebarButton sidebarItemButton" onclick="openPhenotypesForm();">Change</a>
						</div>
					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton" onclick="toggleDropdown(this.parentNode);">General Testing <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem">
							<table style="margin: 0 auto; width:100%; max-width:250px; text-align:center;">
								<tr>
									<th></th>
									<th>?</th>
									<th>+</th>
									<th>-</th>
								</tr>
								<tr>
									<td style="text-align:left;"><label>CMV</label></td>
									<td><input name="CMV" type="radio" value="?" checked /></td>
									<td><input name="CMV" type="radio" value="+" /></td>
									<td><input name="CMV" type="radio" value="-" /></td>
								</tr>
								<tr>
									<td style="text-align:left;"><labe>HbS</labe></td>
									<td><input name="HbS" type="radio" value="?" checked /></td>
									<td><input name="HbS" type="radio" value="+" /></td>
									<td><input name="HbS" type="radio" value="-" /></td>
								</tr>
								<tr>
									<td style="text-align:left;"><label>IgA</label></td>
									<td><input name="IgA" type="radio" value="?" checked /></td>
									<td><input name="IgA" type="radio" value="+" /></td>
									<td><input name="IgA" type="radio" value="-" /></td>
								</tr>
								<tr>
									<td style="text-align:left;"><label>HT</label></td>
									<td><input name="HT" type="radio" value="?" checked /></td>
									<td><input name="HT" type="radio" value="+" /></td>
									<td><input name="HT" type="radio" value="-" /></td>
								</tr>
							</table>
						</div>
					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton" onclick="toggleDropdown(this.parentNode);">Dates <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem" style="padding-right:20px; ">
							<label style="display: block; width: 100%; user-select: none;" for="collectionDate">Collection: </label>
							<div style="text-align:right; ">
								<input type="date" id="collectionDate" class="sidebarInput sidebarDate" required=required />
								<input type="time" id="collectionTime" class="sidebarInput sidebarDate" required=required value="00:00" />
							</div>
						</div>
						<div class="dropdownItem" style="padding-right:20px;">
							<label style="display: block; width: 100%; user-select: none;" for="expiryDate">Expiry: </label>
							<div style="text-align:right; ">
								<input type="date" id="expiryDate" class="sidebarInput sidebarDate" required=required />
								<input type="time" id="expiryTime" class="sidebarInput sidebarDate" required=required value="23:59" />
							</div>
						</div>
					</div>
				</div>

				<div class="dropdownDiv">
					<hr />
					<a class="sidebarButton" href="javascript:void(0)">Help</a>
				</div>
			</div>
		</div>
	</div>


	<div id="phenotypePopup">
		<div style="margin: 10px 20px; user-select:none;">
			<span style="display: block;  font-weight: 400; font-size:14pt; padding: 0px 10px">Add/Remove Red Cell Antigens</span>
			<hr style="margin: 10px;" />
			<span>Drag to move antigens</span>
			<form>
				<table style="width:100%; height:100%;">
					<tr>
						<th>Unknown:</th>
						<th>Negative for:</th>
						<th>Positive for:</th>
					</tr>
					<tr>
						<td style="width:33%">
							<select class="dragSelect" size="2" id="phenUnk" onfocusout="clearSelect(this.id);" style="background-color: #fff; border-color: #fff;" />
						</td>
						<td style="width:33%">
							<select class="dragSelect" size="2" id="phenNeg" onfocusout="clearSelect(this.id);" style="background-color: #cfc; border-color: #cfc; scrollbar-color: #9aff9a #bdffbd; " />
						</td>
						<td style="width:33%">
							<select class="dragSelect" size="2" id="phenPos" onfocusout="clearSelect(this.id);" style="background-color: #fcc; border-color: #fcc; scrollbar-color: #ff9a9a #ffbdbd; " />
						</td>
					</tr>
				</table>
				<div style="height:100%; text-align:right;">
					<button style="width:100px; margin:12px;" type="reset" onclick="resetPhenotypesForm();">Cancel</button>
					<button style="width:100px;" type="button" onclick="submitPhenotypeForm();">Accept</button>
				</div>
			</form>
		</div>

	</div>

	<div id="main">
		<div class="centerOnPrintedPageAbsolute" style="text-align:center; padding:5px">
			<img src="../TransitionLabel.svg" />
			<!-- Replace <img> with inline <svg> element for final version. (N.B. <img> svg doesn't act the same as <svg>') e.g. -->
			<!--<svg width="138.62802mm" height="246.4087mm" viewBox="0 0 138.62803 246.4087" style="background-color:red; border:5px solid black;" />-->
		</div>
	</div>

	<script src="./sidebar.js" type="text/javascript"></script>
</body>
</html>