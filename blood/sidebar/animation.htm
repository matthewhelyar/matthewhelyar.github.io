<!DOCTYPE HTML>
<html>
<head>
    <style>
        :root {
            --animation-width: -260px;
        }

        body {
            margin: 0;
            background-color: lightgrey;
            font-family: Arial, Helvetica, sans-serif;
        }

        hr {
            margin: 5px;
            border: 0;
            border-top: 1px solid white;
            cursor: auto;
        }

        .sidebar {
            display: block;
            position: fixed;
            height: 100%;
            background-color: #616161;
            color: white;
            border: none;
            box-shadow: 0 4px 10px 0 rgba(0,0,0,0.2),0 4px 20px 0 rgba(0,0,0,0.19);
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            animation: left 0.2s;
            overflow: auto;
            resize: horizontal;
            min-width: 220px;
        }

        /*.sidebar:hover:not(:has(.sidebarContents:hover)) {
                background-color: #ccc;
                color: black;
            }*/

        .navOpen {
            position: relative;
            z-index: 1;
            background-color: #777;
            color: white;
            float: right;
            height: 100%;
            cursor: pointer;
            text-align: center;
            vertical-align: middle;
            box-shadow: 0 4px 10px 0 rgba(0,0,0,0.2),0 4px 20px 0 rgba(0,0,0,0.19);
            user-select: none;
        }

            .navOpen:hover {
                background-color: #ccc;
                color: black;
                transition: 0.2s;
            }

        .sidebarContents {
            margin-right: 40px;
        }

        .sidebarButton {
            color: white;
            display: block;
            font-size: 15px;
            line-height: 1.5;
            text-decoration: none;
            padding: 3px 6px;
            cursor: pointer;
            user-select: none;
        }

            .sidebarButton:hover {
                background-color: #ccc;
                color: black;
                transition: 0.2s;
            }

        .dropdownDiv {
            padding: 0 0 0 10px;
        }

            .dropdownDiv:hover {
                background-color: #ccc;
                color: black;
                transition: 0.2s;
            }

        .dropdownContents {
            position: relative;
            background-color: #9e9e9e;
            color: black;
            box-shadow: 0 4px 10px 0 rgba(0,0,0,0.2),0 4px 20px 0 rgba(0,0,0,0.19);
            animation: left 0.2s;
        }

        .dropdownItem {
            display: block;
            font-size: 15px;
            line-height: 1.5;
            text-decoration: none;
            color: black;
            padding: 3px 12px;
        }

            .dropdownItem:hover {
                background-color: #ccc;
                transition: 0.2s;
            }

        .sidebarInput {
            display: block;
            /*float: right;*/
            width: 100%;
            padding: 2px;
            margin: 0 2px;
            border-top: none;
            border-left: none;
            border-bottom: 2px solid #616161;
            border-right: 2px solid #616161;
            text-align: right;
            background-color: transparent;
            font-size: 12pt;
            font-weight: 700;
            font-family: Courier New, Courier, monospace;
        }

            .sidebarInput:focus {
                border-bottom: 2px solid white;
                border-right: 2px solid white;
                outline: none;
                transition: 0.2s
            }

        .sidebarSelect {
            display: block;
            /*float: right;*/
            width: 100%;
            padding: 2px;
            border-top: none;
            border-left: none;
            border-bottom: 2px solid #616161;
            border-right: 2px solid #616161;
            text-align: right;
            background-color: transparent;
            font-size:12pt;
        }

            .sidebarSelect:focus {
                border-bottom: 2px solid white;
                border-right: 2px solid white;
                outline: none;
                transition: 0.2s
            }

        @keyframes left {
            from {
                left: var(--animation-width);
            }

            to {
                left: 0;
            }
        }

        @keyframes right {
            from {
                left: 0;
            }

            to {
                left: var(--animation-width);
            }
        }

        @page {
            size: A4 portrait;
            margin: 0mm;
        }

        @media print {
            .centerOnPrintedPageAbsolute {
                position: absolute;
                left: 50%;
                top: 50%;
                transform: translate(-50%, -50%);
            }

            .noPrint {
                display: none;
                width: 0;
                margin: 0;
                padding: 0;
            }

            body {
                background-color: none;
            }

            .main {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <div class="noPrint">
        <div id="sidebar" class="sidebar" style="left: 0px; width: 300px;">

            <div id="navOpenDiv" class="navOpen" style="width: 40px;" onclick="toggleSidebar(this.parentNode)">
                <span id="navOpen" style="font-size: 20pt; font-weight: 700; position: absolute; top: 50%; transform-origin:center; transform: translate(-50%, -50%);">&#9776;</span><!-- ☰˂˃˄˅‹› -->
            </div>

            <div id="sidebarHeadingDiv" style="padding: 5px 10px 0 15px; margin-right:40px; cursor:default; user-select:none;">
                <span id="sidebarHeading" style="font-weight: 400; font-size:14pt;">EDIT</span>
                <hr style="margin:0;" />
            </div>

            <div class="sidebarContents">

                <div class="dropdownDiv">
                    <a class="sidebarButton" onclick="toggleDropdown(this.parentNode);">DIN <span style="float:right; font-size:8pt; padding:3px 10px">&#9660;</span> <!-- Caret down --></a>
                    <div class="dropdownContents" style="display:none;">
                        <!--<a class="dropdownItem" href="javascript:void(0)">Facility ID</a>
                        <a class="dropdownItem" href="javascript:void(0)">Year</a>
                        <a class="dropdownItem" href="javascript:void(0)">Sequence No</a>-->
                        <div class="dropdownItem" onclick="this.children[1].focus()" style="padding-right:20px;">
                            <label style="display: block; width: 100%; user-select: none;" for="fin">Facility ID: </label>
                            <input class="sidebarInput" id="fin" type="text" value="G000 0">
                        </div>
                        <div class="dropdownItem" onclick="this.children[1].focus()" style="padding-right:20px;">
                            <label style="display: block; width: 100%; user-select: none;" for="year">Year: </label>
                            <input class="sidebarInput" id="year" type="text" value="23">
                        </div>
                        <div class="dropdownItem" onclick="this.children[1].focus()" style="padding-right:20px;">
                            <label style="display: block; width: 100%; user-select:none;" for="seq">Sequence No: </label>
                            <input class="sidebarInput" id="seq" type="text" value="000 000">
                        </div>
                    </div>
                </div>

                <div class="dropdownDiv">
                    <a class="sidebarButton" onclick="toggleDropdown(this.parentNode);">Product <span style="float:right; font-size:8pt; padding:3px 10px">&#9660;</span> <!-- Caret down --></a>
                    <div class="dropdownContents" style="display:none;">
                        <!--<a class="dropdownItem" href="javascript:void(0)">Component type</a>
                        <a class="dropdownItem" href="javascript:void(0)">Irradiated</a>
                        <a class="dropdownItem" href="javascript:void(0)">Special</a>
                        <a class="dropdownItem" href="javascript:void(0)">Currently Available</a>-->


                        <div class="dropdownItem" onclick="this.children[1].focus()">
                            <label style="display: block; width: 100%; user-select: none;" for="componentType">Component Type: </label>
                            <select id="componentType" class="sidebarSelect">
                                <option value="R">Red Cells</option>
                                <option value="P">Platelets</option>
                                <option value="F">Fresh Frozen Plasma</option>
                                <option value="C">Cryoprecipitate</option>
                                <option value="G">Granulocytes</option>
                            </select>
                        </div>

                        <div class="dropdownItem" onclick="this.children[0].children[0].click()">
                            <label style="display: block; width: 100%; user-select:none;">Irradiated: <input style="float:right;" id="available" type="checkbox"></label>
                        </div>

                        <div class="dropdownItem" onclick="this.children[0].children[0].click()">
                            <label style="display: block; width: 100%; user-select:none;">Special: <input style="float:right;" id="available" type="checkbox"></label>
                        </div>

                        <div class="dropdownItem" onclick="this.children[0].children[0].click()">
                            <label style="display: block; width: 100%; user-select:none;">Available: <input style="float:right;" id="available" type="checkbox"></label>
                        </div>

                        <hr />
                        <a class="dropdownItem" href="javascript:void(0)">Product</a>
                    </div>
                </div>

                <div class="dropdownDiv">
                    <a class="sidebarButton" onclick="toggleDropdown(this.parentNode);">Group <span style="float:right; font-size:8pt; padding:3px 10px">&#9660;</span> <!-- Caret down --></a>
                    <div class="dropdownContents" style="display:none;">
                        <a class="dropdownItem" href="javascript:void(0)">ABO / Rh D</a>
                        <a class="dropdownItem" href="javascript:void(0)">Rh C</a>
                        <a class="dropdownItem" href="javascript:void(0)">Rh E</a>
                    </div>
                </div>

                <div class="dropdownDiv">
                    <a class="sidebarButton" onclick="toggleDropdown(this.parentNode);">General Testing <span style="float:right; font-size:8pt; padding:3px 10px">&#9660;</span> <!-- Caret down --></a>
                    <div class="dropdownContents" style="display:none;">
                        <a class="dropdownItem" href="javascript:void(0)">CMV</a>
                        <a class="dropdownItem" href="javascript:void(0)">HbS</a>
                    </div>
                </div>

                <div class="dropdownDiv">
                    <a class="sidebarButton" onclick="toggleDropdown(this.parentNode);">Dates <span style="float:right; font-size:8pt; padding:3px 10px">&#9660;</span> <!-- Caret down --></a>
                    <div class="dropdownContents" style="display:none;">
                        <a class="dropdownItem" href="javascript:void(0)">Collection</a>
                        <a class="dropdownItem" href="javascript:void(0)">Expiry</a>
                    </div>
                </div>

                <div class="dropdownDiv">
                    <a class="sidebarButton" onclick="toggleDropdown(this.parentNode);">Ext. Phenotypes <span style="float:right; font-size:8pt; padding:3px 10px">&#9660;</span> <!-- Caret down --></a>
                    <div class="dropdownContents" style="display:none;">
                        <a class="dropdownItem" href="javascript:void(0)">Ext. Phenotypes</a>
                    </div>
                </div>

                <div class="dropdownDiv">
                    <hr />
                    <a class="sidebarButton" href="javascript:void(0)">Help</a>
                </div>


            </div>

        </div>
    </div>

    <div id="main">
        <div class="centerOnPrintedPageAbsolute" style="text-align:center; padding:5px">
            <img src="../TransitionLabel.svg" />
            <!-- Replace <img> with inline <svg> element for final version. (N.B. <img> svg doesn't act the same as <svg>') e.g. -->
            <!--<svg width="138.62802mm" height="246.4087mm" viewBox="0 0 138.62803 246.4087" style="background-color:red; border:5px solid black;" />-->
        </div>
    </div>

    <script type="text/javascript">
        function toggleSidebar(sidebar) {
            const t = event.target.getAttribute("id");
            if (t != "navOpenDiv" && t != "navOpen" && t != "sidebarHeading")
                return;

            const w = parseInt(sidebar.style.width);
            const s = parseInt(document.querySelector("#navOpenDiv").style.width);
            console.log(w, s, sidebar.style.left);
            document.documentElement.style.setProperty('--animation-width', `-${w - s}px`)

            if (sidebar.style.left == "0px") {
                sidebar.style.animation = "right 0.2s";
                sidebar.style.left = `-${w - s}px`;
                sidebar.style.resize = "none";
            }
            else {
                sidebar.style.animation = "left 0.2s";
                sidebar.style.left = "0";
                sidebar.style.resize = "horizontal";
            }
        }

        function toggleDropdown(dropdownDiv, hideOtherDropdowns = false) {
            const dropdown = dropdownDiv.querySelector(":scope > .dropdownContents");
            if (!dropdown) return
            dropdown.style.display = (dropdown.style.display == "none") ? "block" : "none";
        }
    </script>
</body>
</html>