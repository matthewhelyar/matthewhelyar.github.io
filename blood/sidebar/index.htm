<!DOCTYPE HTML>
<html>
<head>
	<title>Blood component simulator</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto&family=Roboto+Mono&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="./tristateBox/tristateBox.css" type="text/css" />
	<link rel="stylesheet" href="sidebar.css" type="text/css" />
</head>
<body>
	<div class="noPrint">
		<div id="sidebar" class="sidebar" style="left: 0px; width: 375px;">

			<div id="navOpenDiv" class="navOpen" style="width: 40px;">
				<span id="navOpen" style="font-size: 20pt; font-weight: 700; position: absolute; top: 50%; transform-origin:center; transform: translate(-50%, -50%);">&#9776;</span><!-- ☰˂˃˄˅‹› -->
			</div>

			<div id="sidebarHeadingDiv" style="padding: 5px 10px 0 15px; margin-right:40px; cursor:default; user-select:none;">
				<span id="sidebarHeading" style="font-weight: 400; font-size:14pt;">EDIT</span>
				<hr style="margin:5px 0;" />
			</div>

			<div class="sidebarContents">

				<div class="dropdownDiv" id="dinForm">
					<a class="sidebarButton dropdownButton">DIN <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem" style="padding-right:20px;">
							<label style="display: block; width: 100%; user-select: none;">
								Facility ID:
								<input class="sidebarInput" id="fin" type="text" value="G000 0">
							</label>
						</div>
						<div class="dropdownItem" style="padding-right:20px;">
							<label style="display: block; width: 100%; user-select: none;">
								Year:
								<input class="sidebarInput" id="year" type="text" value="23">
							</label>
						</div>
						<div class="dropdownItem" style="padding-right:20px;">
							<label class="checkboxLabel">
								Sequence No:
								<input class="sidebarInput" id="seq" type="text" value="000 000">
							</label>
						</div>
					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton dropdownButton">Product <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">

						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;" for="componentType">
								Component Type:
								<select id="componentType" class="sidebarSelect">
									<option selected>Red Cells</option>
									<option>Red Cells - LVT</option>
									<option>Red Cells - IUT</option>
									<option>Red Cells - Neonatal Exchange</option>
									<option>Red Cells - Washed</option>
									<option>Red Cells - Frozen</option>
									<option>Red Cells - Autologous</option>
									<option>Platelets</option>
									<option>Platelets - Washed</option>
									<option>Platelets - IUT</option>
									<option>Fresh Frozen Plasma</option>
									<option>Cryoprecipitate</option>
									<option>Granulocytes</option>
								</select>
							</label>
						</div>

						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;" for="componentSize">
								Size:
								<select id="componentSize" class="sidebarSelect">
									<option selected>Adult</option>
									<option>Neonatal</option>
								</select>
							</label>
						</div>

						<div class="dropdownItem">
							<label class="checkboxLabel">
								Irradiated:
								<input id="irradiated" type="checkbox" class="floatingCheckbox">
							</label>
						</div>

						<hr style="margin: 6px 12px; height: 3px; border-top: 2px solid black; border-bottom: 2px solid black;" />

						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;" for="finalProduct">
								Select final product:
								<select id="finalProduct" class="sidebarSelect">
								</select>
							</label>
						</div>

					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton dropdownButton">Group <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;">
								ABO:
							</label>
							<div style="margin: 0 auto; width: 100%; max-width: 300px; text-align: center; border-collapse: collapse; display: flex; justify-content: space-between">
								<label>O<br /><input name="ABOradio" type="radio" value="O" checked /></label>
								<label>A<br /><input name="ABOradio" type="radio" value="A" checked /></label>
								<label>B<br /><input name="ABOradio" type="radio" value="B" checked /></label>
								<label>AB<br /><input name="ABOradio" type="radio" value="AB" checked /></label>
							</div>
						</div>
						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;">Rh: </label>
							<div style="margin: 0 auto; width: 100%; max-width: 300px; text-align: center; border-collapse: collapse; display: flex; justify-content: space-between">
								<label>D<br /><span id="RhD" class="tristateBox unchecked"></span></label>
								<label>C<br /><span id="RhC" class="tristateBox unchecked"></span></label>
								<label>E<br /><span id="RhE" class="tristateBox unchecked"></span></label>
								<label style="text-decoration: overline;">c<br /><span id="Rhc" class="tristateBox checked"></span></label>
								<label style="text-decoration: overline;">e<br /><span id="Rhe" class="tristateBox checked"></span></label>
							</div>
						</div>
						<div class="dropdownDiv" style="padding:0;">
							<a class="sidebarButton dropdownButton">Possible genotypes: <span class="caretDown" /></a>
							<div class="dropdownContents" style="display:none; box-shadow:none;">
								<div class="dropdownItem" onclick="this.children[0].focus()">
									<span class="sidebarInput" id="genotypeList" style="text-align:right; white-space:pre;" />
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="dropdownDiv" id="phenotypeDisplay">
					<a class="sidebarButton dropdownButton">Red Cell Antigens <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem">
							<label class="checkboxLabel">
								Negative for:
								<span class="sidebarInput" id="phNeg" style="text-align:left;" />
							</label>
						</div>
						<div class="dropdownItem">
							<label class="checkboxLabel">
								Positive for:
								<span class="sidebarInput" id="phPos" style="text-align:left;" />
							</label>
						</div>
						<div class="dropdownItem">
							<label class="checkboxLabel">
								Untested:
								<span class="sidebarInput" id="phUnk" style="text-align:left;" />
							</label>
						</div>
						<div style="padding-bottom:3px;">
							<a class="sidebarButton sidebarItemButton" id="openPhenotypesFormButton">Change</a>
						</div>
					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton dropdownButton">General Testing <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem" onclick="let t = this.children[0].children[0]; if (event.target != t) t.click();">
							<span class="checkboxLabel">
								HbS:
								<span id="HbS" class="tristateBox indeterminate floatingCheckbox"></span>
							</span>
						</div>
						<div class="dropdownItem" onclick="let t = this.children[0].children[0]; if (event.target != t) t.click();">
							<span class="checkboxLabel">
								IgA:
								<span id="IgA" class="tristateBox indeterminate floatingCheckbox"></span>
							</span>
						</div>
						<div class="dropdownItem" onclick="let t = this.children[0].children[0]; if (event.target != t) t.click();">
							<span class="checkboxLabel">
								HT:
								<span id="HT" class="tristateBox indeterminate floatingCheckbox"></span>
							</span>
						</div>
					</div>
				</div>

				<div id="infectiousMarkersDiv" class="dropdownDiv">
					<a class="sidebarButton dropdownButton">Infectious markers <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
					</div>
				</div>

				<div class="dropdownDiv" id="hlaDiv">
					<a class="sidebarButton dropdownButton">HLA / HPA <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton dropdownButton">Dates <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;" for="collectionDate">Collection: </label>
							<div style="text-align:right; ">
								<input type="date" id="collectionDate" class="sidebarInput sidebarDate" required=required />
								<input type="time" id="collectionTime" class="sidebarInput sidebarDate" required=required value="00:00" />
							</div>
						</div>
						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;" for="expiryDate">Expiry: </label>
							<div style="text-align:right; ">
								<input type="date" id="expiryDate" class="sidebarInput sidebarDate" required=required />
								<input type="time" id="expiryTime" class="sidebarInput sidebarDate" required=required value="23:59" />
							</div>
						</div>
					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton dropdownButton">Label style <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;">
								Label style:
								<select id="componentType" class="sidebarSelect">
									<option>Current</option>
									<option disabled>Transition</option>
									<option disabled>Future</option>
								</select>
							</label>
						</div>
					</div>
				</div>

				<div class="dropdownDiv">
					<hr />
					<a class="sidebarButton" href="javascript:void(0)">Help</a>
				</div>
			</div>
		</div>
	</div>

	<div id="phenotypePopup" style="display: none;">
		<span style="display: block; font-weight: 400; font-size:14pt;">Add/Remove Red Cell Antigens</span>
		<hr style="margin: 6px 0;">
		<span>Drag to move antigens</span>
		<form>
			<div style="display:grid; grid-template-columns: 1fr 1fr 1fr; grid-gap:6px; text-align:center; padding:3px 0;">
				<span>Unknown:</span>
				<span>Negative for:</span>
				<span>Positive for:</span>
				<select class="dragSelect" size="2" id="phenUnk" onfocusout="phenotypePopupForm.clearSelect(this);" style="background-color: #fff; border-color: #fff;"></select>
				<select class="dragSelect" size="2" id="phenNeg" onfocusout="phenotypePopupForm.clearSelect(this);" style="background-color: #cfc; border-color: #cfc; scrollbar-color: #9aff9a #bdffbd; "></select>
				<select class="dragSelect" size="2" id="phenPos" onfocusout="phenotypePopupForm.clearSelect(this);" style="background-color: #fcc; border-color: #fcc; scrollbar-color: #ff9a9a #ffbdbd; "></select>
			</div>
			<div style="height:100%; text-align:right; padding-top: 6px;">
				<button type="reset" id="phenotypesCancelButton" style="width:100px; margin-right:6px;">Cancel</button>
				<button style="width:100px;" type="button" id="phenotypesSubmitButton">Accept</button>
			</div>
		</form>
	</div>

	<div id="main">
		<div class="centerOnPrintedPageAbsolute" style="text-align:center; padding:5px">
			<img src="../TransitionLabel.svg" />
			<!-- Replace <img> with inline <svg> element for final version. (N.B. <img> svg doesn't act the same as <svg>') e.g. -->
			<!--<svg width="138.62802mm" height="246.4087mm" viewBox="0 0 138.62803 246.4087" style="background-color:red; border:5px solid black;" />-->
		</div>
	</div>

	<script src="./products.js"></script>
	<script src="./tristateBox/tristateBox.js"></script>
	<script src="./RhForm.js"></script>
	<script src="./PhenotypePopupForm.js"></script>
	<script src="./DinForm.js"></script>
	<script src="./ProductsForm.js"></script>
	<script src="./InfectiousMarkersForm.js"></script>
	<script src="./HLAForm.js"></script>
	<script src="./Sidebar.js"></script>
	<script src="./main.js"></script>
</body>
</html>