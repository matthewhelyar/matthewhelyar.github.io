<!DOCTYPE HTML>
<html>
<head>
	<title>Animated sidebar</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto&family=Roboto+Mono&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="./tristateBox/tristateBox.css" type="text/css" />
	<link rel="stylesheet" href="sidebar.css" type="text/css" />
</head>
<body>
	<div class="noPrint">
		<div id="sidebar" class="sidebar" style="left: 0px; width: 375px;">

			<div id="navOpenDiv" class="navOpen" style="width: 40px;">
				<span id="navOpen" style="font-size: 20pt; font-weight: 700; position: absolute; top: 50%; transform-origin:center; transform: translate(-50%, -50%);">&#9776;</span><!-- ☰˂˃˄˅‹› -->
			</div>

			<div id="sidebarHeadingDiv" style="padding: 5px 10px 0 15px; margin-right:40px; cursor:default; user-select:none;">
				<span id="sidebarHeading" style="font-weight: 400; font-size:14pt;">EDIT</span>
				<hr style="margin:5px 0;" />
			</div>

			<div class="sidebarContents">

				<div class="dropdownDiv">
					<a class="sidebarButton dropdownButton">DIN <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem" style="padding-right:20px;">
							<label style="display: block; width: 100%; user-select: none;">
								Facility ID:
								<input class="sidebarInput" id="fin" type="text" value="G000 0">
							</label>
						</div>
						<div class="dropdownItem" style="padding-right:20px;">
							<label style="display: block; width: 100%; user-select: none;">
								Year:
								<input class="sidebarInput" id="year" type="text" value="23">
							</label>
						</div>
						<div class="dropdownItem" style="padding-right:20px;">
							<label class="checkboxLabel">
								Sequence No:
								<input class="sidebarInput" id="seq" type="text" value="000 000">
							</label>
						</div>
					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton dropdownButton">Product <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">

						<!--<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;" for="componentType">
								Component Type:
								<select id="componentType" class="sidebarSelect">
									<option value="R">Red Cells</option>
									<option value="P">Platelets</option>
									<option value="F">Fresh Frozen Plasma</option>
									<option value="C">Cryoprecipitate</option>
									<option value="G">Granulocytes</option>
								</select>
							</label>
						</div>-->

						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;" for="componentType">
								Component Type:
								<select id="componentType" class="sidebarSelect">
									<option value="">Red Cells</option>
									<option value="">Red Cells - IUT</option>
									<option value="">Red Cells - Neonatal Exchange</option>
									<option value="">Red Cells - Washed</option>
									<option value="">Red Cells - Frozen (automated wash)</option>
									<option value="">Red Cells - Frozen (manual wash)</option>
									<option value="">Red Cells - Autologous</option>
									<option value="">Platelets - Pooled</option>
									<option value="">Platelets - Apheresis</option>
									<option value="">Platelets - Washed</option>
									<option value="">Platelets - IUT</option>
									<option value="">Fresh Frozen Plasma</option>
									<option value="">Cryoprecipitate</option>
									<option value="">Granulocytes - pooled</option>
									<option value="">Granulocytes - buffy coats</option>
								</select>
							</label>
						</div>

						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;" for="componentSize">
								Size:
								<select id="componentSize" class="sidebarSelect">
									<option value="AD">Adult</option>
									<option value="Neo">Neonatal</option>
									<option value="LVT">Neonatal large volume</option>
								</select>
							</label>
						</div>

						<div class="dropdownItem">
							<label class="checkboxLabel">
								Irradiated:
								<input id="irradiated" type="checkbox" class="floatingCheckbox">
							</label>
						</div>

						<!--<div class="dropdownItem">
							<label class="checkboxLabel">
								Special:
								<input class="floatingCheckbox"  id="special" type="checkbox">
							</label>
						</div>-->
						<!--<div class="dropdownItem">
							<label class="checkboxLabel">
								Routinely available:
								<input class="floatingCheckbox"  id="available" type="checkbox">
							</label>
						</div>-->

						<hr style="margin: 6px 12px; height: 3px; border-top: 2px solid black; border-bottom: 2px solid black;" />

						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;" for="finalProduct">
								Select final product:
								<select id="finalProduct" class="sidebarSelect">
								</select>
							</label>
						</div>

					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton dropdownButton">Group <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<!--<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;">
								ABO:
								<select id="componentType" class="sidebarSelect">
									<option value="O">O</option>
									<option value="A">A</option>
									<option value="B">B</option>
									<option value="AB">AB</option>
								</select>
							</label>
						</div>-->

						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;">
								ABO:
							</label>
							<table style="margin: 0 auto; width:100%; max-width:300px; text-align:center; border-collapse:collapse;">
								<tr>
									<th style="width:0;">O</th>
									<th></th>
									<th style="width:0;">A</th>
									<th></th>
									<th style="width:0;">B</th>
									<th></th>
									<th style="width:0;">AB</th>
								</tr>
								<tr>
									<td><input name="ABOradio" type="radio" value="O" checked /></td>
									<td></td>
									<td><input name="ABOradio" type="radio" value="A" /></td>
									<td></td>
									<td><input name="ABOradio" type="radio" value="B" /></td>
									<td></td>
									<td><input name="ABOradio" type="radio" value="AB" /></td>
								</tr>
							</table>

						</div>

						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;">Rh: </label>
							<table style="width: 100%; margin: 0 auto; max-width: 300px; text-align: center; border-collapse: collapse;">
								<tr>
									<th style="width:0;">D</th>
									<th></th>
									<th style="width:0;">C</th>
									<th></th>
									<th style="width:0;">E</th>
									<th></th>
									<th style="width: 0; text-decoration: overline;">c</th>
									<th></th>
									<th style="width: 0; text-decoration: overline;">e</th>
								</tr>
								<!--<tr>
									<td><input id="RhD" onchange="rhChanged();" type="checkbox"></td>
									<td><input id="RhC" onchange="rhChanged();" type="checkbox"></td>
									<td><input id="RhE" onchange="rhChanged();" type="checkbox"></td>
									<td><input id="Rhc" onchange="rhChanged();" type="checkbox" checked></td>
									<td><input id="Rhe" onchange="rhChanged();" type="checkbox" checked></td>
								</tr>-->
								<tr>
									<td><span id="RhD" class="tristateBox unchecked"></span></td>
									<td></td>
									<td><span id="RhC" class="tristateBox unchecked"></span></td>
									<td></td>
									<td><span id="RhE" class="tristateBox unchecked"></span></td>
									<td></td>
									<td><span id="Rhc" class="tristateBox checked"></span></td>
									<td></td>
									<td><span id="Rhe" class="tristateBox checked"></span></td>
								</tr>
							</table>
						</div>

						<div class="dropdownDiv" style="padding:0;">
							<a class="sidebarButton dropdownButton">Possible genotypes: <span class="caretDown" /></a>
							<div class="dropdownContents" style="display:none; box-shadow:none;">
								<div class="dropdownItem" onclick="this.children[0].focus()">
									<span class="sidebarInput" id="genotypeList" style="text-align:right; white-space:pre;" />
								</div>
							</div>
						</div>

					</div>
				</div>

				<div class="dropdownDiv" id="phenotypeDisplay">
					<a class="sidebarButton dropdownButton">Red Cell Antigens <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem">
							<label class="checkboxLabel">
								Negative for:
								<span class="sidebarInput" id="phNeg" style="text-align:left;" />
							</label>
						</div>
						<div class="dropdownItem">
							<label class="checkboxLabel">
								Positive for:
								<span class="sidebarInput" id="phPos" style="text-align:left;" />
							</label>
						</div>
						<div class="dropdownItem">
							<label class="checkboxLabel">
								Untested:
								<span class="sidebarInput" id="phUnk" style="text-align:left;" />
							</label>
						</div>
						<div style="padding-bottom:3px;">
							<a class="sidebarButton sidebarItemButton" id="openPhenotypesFormButton">Change</a>
						</div>
					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton dropdownButton">General Testing <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<!--<div class="dropdownItem">
							<table style="margin: 0 auto; width:100%; max-width:250px; text-align:center;">
								<tr>
									<th></th>
									<th>?</th>
									<th>+</th>
									<th>-</th>
								</tr>
								<tr>
									<td style="text-align:left;"><label>CMV</label></td>
									<td><input name="CMV" type="radio" value="?" checked /></td>
									<td><input name="CMV" type="radio" value="+" /></td>
									<td><input name="CMV" type="radio" value="-" /></td>
								</tr>
								<tr>
									<td style="text-align:left;"><labe>HbS</labe></td>
									<td><input name="HbS" type="radio" value="?" checked /></td>
									<td><input name="HbS" type="radio" value="+" /></td>
									<td><input name="HbS" type="radio" value="-" /></td>
								</tr>
								<tr>
									<td style="text-align:left;"><label>IgA</label></td>
									<td><input name="IgA" type="radio" value="?" checked /></td>
									<td><input name="IgA" type="radio" value="+" /></td>
									<td><input name="IgA" type="radio" value="-" /></td>
								</tr>
								<tr>
									<td style="text-align:left;"><label>HT</label></td>
									<td><input name="HT" type="radio" value="?" checked /></td>
									<td><input name="HT" type="radio" value="+" /></td>
									<td><input name="HT" type="radio" value="-" /></td>
								</tr>
							</table>
						</div>-->
						<div class="dropdownItem" onclick="let t = this.children[0].children[0]; if (event.target != t) t.click();">
							<span class="checkboxLabel">
								CMV:
								<span class="tristateBox indeterminate floatingCheckbox"></span>
							</span>
						</div>
						<div class="dropdownItem" onclick="let t = this.children[0].children[0]; if (event.target != t) t.click();">
							<span class="checkboxLabel">
								HbS:
								<span class="tristateBox indeterminate floatingCheckbox"></span>
							</span>
						</div>
						<div class="dropdownItem" onclick="let t = this.children[0].children[0]; if (event.target != t) t.click();">
							<span class="checkboxLabel">
								IgA:
								<span class="tristateBox indeterminate floatingCheckbox"></span>
							</span>
						</div>
						<div class="dropdownItem" onclick="let t = this.children[0].children[0]; if (event.target != t) t.click();">
							<span class="checkboxLabel">
								HT:
								<span class="tristateBox indeterminate floatingCheckbox"></span>
							</span>
						</div>
					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton dropdownButton">Dates <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;" for="collectionDate">Collection: </label>
							<div style="text-align:right; ">
								<input type="date" id="collectionDate" class="sidebarInput sidebarDate" required=required />
								<input type="time" id="collectionTime" class="sidebarInput sidebarDate" required=required value="00:00" />
							</div>
						</div>
						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;" for="expiryDate">Expiry: </label>
							<div style="text-align:right; ">
								<input type="date" id="expiryDate" class="sidebarInput sidebarDate" required=required />
								<input type="time" id="expiryTime" class="sidebarInput sidebarDate" required=required value="23:59" />
							</div>
						</div>
					</div>
				</div>

				<div class="dropdownDiv">
					<a class="sidebarButton dropdownButton">Label style <span class="caretDown" /></a>
					<div class="dropdownContents" style="display:none;">
						<div class="dropdownItem">
							<label style="display: block; width: 100%; user-select: none;">
								Label style:
								<select id="componentType" class="sidebarSelect">
									<option>Current</option>
									<option>Transition</option>
									<option>Future</option>
								</select>
							</label>
						</div>
					</div>
				</div>

				<div class="dropdownDiv">
					<hr />
					<a class="sidebarButton" href="javascript:void(0)">Help</a>
				</div>
			</div>
		</div>
	</div>


	<div id="phenotypePopup">
		<div style="margin: 10px 20px; user-select:none;">
			<span style="display: block;  font-weight: 400; font-size:14pt; padding: 0px 10px">Add/Remove Red Cell Antigens</span>
			<hr style="margin: 10px;" />
			<span>Drag to move antigens</span>
			<form>
				<table style="width:100%; height:100%;">
					<tr>
						<th>Unknown:</th>
						<th>Negative for:</th>
						<th>Positive for:</th>
					</tr>
					<tr>
						<td style="width:33%">
							<select class="dragSelect" size="2" id="phenUnk" onfocusout="phenotypePopupForm.clearSelect(this);" style="background-color: #fff; border-color: #fff;" />
						</td>
						<td style="width:33%">
							<select class="dragSelect" size="2" id="phenNeg" onfocusout="phenotypePopupForm.clearSelect(this);" style="background-color: #cfc; border-color: #cfc; scrollbar-color: #9aff9a #bdffbd; " />
						</td>
						<td style="width:33%">
							<select class="dragSelect" size="2" id="phenPos" onfocusout="phenotypePopupForm.clearSelect(this);" style="background-color: #fcc; border-color: #fcc; scrollbar-color: #ff9a9a #ffbdbd; " />
						</td>
					</tr>
				</table>
				<div style="height:100%; text-align:right;">
					<button style="width:100px; margin:12px;" type="reset" id="phenotypesCancelButton">Cancel</button>
					<button style="width:100px;" type="button" id="phenotypesSubmitButton">Accept</button>
				</div>
			</form>
		</div>

	</div>

	<div id="main">
		<div class="centerOnPrintedPageAbsolute" style="text-align:center; padding:5px">
			<img src="../TransitionLabel.svg" />
			<!-- Replace <img> with inline <svg> element for final version. (N.B. <img> svg doesn't act the same as <svg>') e.g. -->
			<!--<svg width="138.62802mm" height="246.4087mm" viewBox="0 0 138.62803 246.4087" style="background-color:red; border:5px solid black;" />-->
		</div>
	</div>

	<script src="./tristateBox/tristateBox.js" type="text/javascript"></script>
	<script src="./RhForm.js" type="text/javascript"></script>
	<script src="./PhenotypePopupForm.js" type="text/javascript"></script>
	<script src="./Sidebar.js" type="text/javascript"></script>
	<script src="./main.js" type="text/javascript"></script>
</body>
</html>